var _=function(){function p(t,i,r){var s,h,f,e,o;if(t===i)return t!==0||1/t==1/i;if(t==null||i==null)return t===i;if(t._chain&&(t=t._wrapped),i._chain&&(i=i._wrapped),t.isEqual&&n.isFunction(t.isEqual))return t.isEqual(i);if(i.isEqual&&n.isFunction(i.isEqual))return i.isEqual(t);if(s=u.call(t),s!=u.call(i))return!1;switch(s){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:t==0?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if(typeof t!="object"||typeof i!="object")return!1;for(h=r.length;h--;)if(r[h]==t)return!0;if(r.push(t),f=0,e=!0,s=="[object Array]"){if(f=t.length,e=f==i.length,e)while(f--)if(!(e=f in t==f in i&&p(t[f],i[f],r)))break}else{if("constructor"in t!="constructor"in i||t.constructor!=i.constructor)return!1;for(o in t)if(n.has(t,o)&&(f++,!(e=n.has(i,o)&&p(t[o],i[o],r))))break;if(e){for(o in i)if(n.has(i,o)&&!f--)break;e=!f}}return r.pop(),e}var l=this,st=l._,o={},r=Array.prototype,k=Object.prototype,ht=Function.prototype,t=r.slice,ct=r.unshift,u=k.toString,lt=k.hasOwnProperty,d=r.forEach,g=r.map,nt=r.reduce,tt=r.reduceRight,it=r.filter,rt=r.every,ut=r.some,s=r.indexOf,ft=r.lastIndexOf,at=Array.isArray,vt=Object.keys,a=ht.bind,n=function(n){return new f(n)},i,v,y,et,h,e,w,f,c,ot;typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports._=n):l._=n,n.VERSION="1.3.3",i=n.each=n.forEach=function(t,i,r){var u,e,f;if(t!=null)if(d&&t.forEach===d)t.forEach(i,r);else if(t.length===+t.length){for(u=0,e=t.length;u<e;u++)if(u in t&&i.call(r,t[u],u,t)===o)return}else for(f in t)if(n.has(t,f)&&i.call(r,t[f],f,t)===o)return},n.map=n.collect=function(n,t,r){var u=[];return n==null?u:g&&n.map===g?n.map(t,r):(i(n,function(n,i,f){u[u.length]=t.call(r,n,i,f)}),n.length===+n.length&&(u.length=n.length),u)},n.reduce=n.foldl=n.inject=function(t,r,u,f){var e=arguments.length>2;if(t==null&&(t=[]),nt&&t.reduce===nt)return f&&(r=n.bind(r,f)),e?t.reduce(r,u):t.reduce(r);if(i(t,function(n,t,i){e?u=r.call(f,u,n,t,i):(u=n,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return u},n.reduceRight=n.foldr=function(t,i,r,u){var f=arguments.length>2,e;return(t==null&&(t=[]),tt&&t.reduceRight===tt)?(u&&(i=n.bind(i,u)),f?t.reduceRight(i,r):t.reduceRight(i)):(e=n.toArray(t).reverse(),u&&!f&&(i=n.bind(i,u)),f?n.reduce(e,i,r,u):n.reduce(e,i))},n.find=n.detect=function(n,t,i){var r;return v(n,function(n,u,f){if(t.call(i,n,u,f))return r=n,!0}),r},n.filter=n.select=function(n,t,r){var u=[];return n==null?u:it&&n.filter===it?n.filter(t,r):(i(n,function(n,i,f){t.call(r,n,i,f)&&(u[u.length]=n)}),u)},n.reject=function(n,t,r){var u=[];return n==null?u:(i(n,function(n,i,f){t.call(r,n,i,f)||(u[u.length]=n)}),u)},n.every=n.all=function(n,t,r){var u=!0;return n==null?u:rt&&n.every===rt?n.every(t,r):(i(n,function(n,i,f){if(!(u=u&&t.call(r,n,i,f)))return o}),!!u)},v=n.some=n.any=function(t,r,u){r||(r=n.identity);var f=!1;return t==null?f:ut&&t.some===ut?t.some(r,u):(i(t,function(n,t,i){if(f||(f=r.call(u,n,t,i)))return o}),!!f)},n.include=n.contains=function(n,t){return n==null?!1:s&&n.indexOf===s?n.indexOf(t)!=-1:v(n,function(n){return n===t})},n.invoke=function(i,r){var u=t.call(arguments,2);return n.map(i,function(t){return(n.isFunction(r)?r||t:t[r]).apply(t,u)})},n.pluck=function(t,i){return n.map(t,function(n){return n[i]})},n.max=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0])return Math.max.apply(Math,t);if(!r&&n.isEmpty(t))return-Infinity;var f={computed:-Infinity};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e>=f.computed&&(f={value:n,computed:e})}),f.value},n.min=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0])return Math.min.apply(Math,t);if(!r&&n.isEmpty(t))return Infinity;var f={computed:Infinity};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e<f.computed&&(f={value:n,computed:e})}),f.value},n.shuffle=function(n){var t=[],r;return i(n,function(n,i){r=Math.floor(Math.random()*(i+1)),t[i]=t[r],t[r]=n}),t},n.sortBy=function(t,i,r){var u=n.isFunction(i)?i:function(n){return n[i]};return n.pluck(n.map(t,function(n,t,i){return{value:n,criteria:u.call(r,n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;return i===void 0?1:r===void 0?-1:i<r?-1:i>r?1:0}),"value")},n.groupBy=function(t,r){var u={},f=n.isFunction(r)?r:function(n){return n[r]};return i(t,function(n,t){var i=f(n,t);(u[i]||(u[i]=[])).push(n)}),u},n.sortedIndex=function(t,i,r){var u,f,e;for(r||(r=n.identity),u=0,f=t.length;u<f;)e=u+f>>1,r(t[e])<r(i)?u=e+1:f=e;return u},n.toArray=function(i){return i?n.isArray(i)?t.call(i):n.isArguments(i)?t.call(i):i.toArray&&n.isFunction(i.toArray)?i.toArray():n.values(i):[]},n.size=function(t){return n.isArray(t)?t.length:n.keys(t).length},n.first=n.head=n.take=function(n,i,r){return i!=null&&!r?t.call(n,0,i):n[0]},n.initial=function(n,i,r){return t.call(n,0,n.length-(i==null||r?1:i))},n.last=function(n,i,r){return i==null||r?n[n.length-1]:t.call(n,Math.max(n.length-i,0))},n.rest=n.tail=function(n,i,r){return t.call(n,i==null||r?1:i)},n.compact=function(t){return n.filter(t,function(n){return!!n})},n.flatten=function(t,i){return n.reduce(t,function(t,r){return n.isArray(r)?t.concat(i?r:n.flatten(r)):(t[t.length]=r,t)},[])},n.without=function(i){return n.difference(i,t.call(arguments,1))},n.uniq=n.unique=function(t,i,r){var f=r?n.map(t,r):t,u=[];return t.length<3&&(i=!0),n.reduce(f,function(r,f,e){return(i?n.last(r)===f&&r.length:n.include(r,f))||(r.push(f),u.push(t[e])),r},[]),u},n.union=function(){return n.uniq(n.flatten(arguments,!0))},n.intersection=n.intersect=function(i){var r=t.call(arguments,1);return n.filter(n.uniq(i),function(t){return n.every(r,function(i){return n.indexOf(i,t)>=0})})},n.difference=function(i){var r=n.flatten(t.call(arguments,1),!0);return n.filter(i,function(t){return!n.include(r,t)})},n.zip=function(){for(var r=t.call(arguments),u=n.max(n.pluck(r,"length")),f=new Array(u),i=0;i<u;i++)f[i]=n.pluck(r,""+i);return f},n.indexOf=function(t,i,r){if(t==null)return-1;var u,f;if(r)return u=n.sortedIndex(t,i),t[u]===i?u:-1;if(s&&t.indexOf===s)return t.indexOf(i);for(u=0,f=t.length;u<f;u++)if(u in t&&t[u]===i)return u;return-1},n.lastIndexOf=function(n,t){if(n==null)return-1;if(ft&&n.lastIndexOf===ft)return n.lastIndexOf(t);for(var i=n.length;i--;)if(i in n&&n[i]===t)return i;return-1},n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0),i=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/i),0),u=0,f=new Array(r);u<r;)f[u++]=n,n+=i;return f},y=function(){},n.bind=function(i,r){var f,u;if(i.bind===a&&a)return a.apply(i,t.call(arguments,1));if(!n.isFunction(i))throw new TypeError;return u=t.call(arguments,2),f=function(){if(!(this instanceof f))return i.apply(r,u.concat(t.call(arguments)));y.prototype=i.prototype;var e=new y,n=i.apply(e,u.concat(t.call(arguments)));return Object(n)===n?n:e}},n.bindAll=function(r){var u=t.call(arguments,1);return u.length==0&&(u=n.functions(r)),i(u,function(t){r[t]=n.bind(r[t],r)}),r},n.memoize=function(t,i){var r={};return i||(i=n.identity),function(){var u=i.apply(this,arguments);return n.has(r,u)?r[u]:r[u]=t.apply(this,arguments)}},n.delay=function(n,i){var r=t.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},i)},n.defer=function(i){return n.delay.apply(n,[i,1].concat(t.call(arguments,1)))},n.throttle=function(t,i){var r,u,f,e,o,s,h=n.debounce(function(){o=e=!1},i);return function(){r=this,u=arguments;var n=function(){f=null,o&&t.apply(r,u),h()};return f||(f=setTimeout(n,i)),e?o=!0:s=t.apply(r,u),h(),e=!0,s}},n.debounce=function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null,i||n.apply(u,f)};i&&!r&&n.apply(u,f),clearTimeout(r),r=setTimeout(e,t)}},n.once=function(n){var t=!1,i;return function(){return t?i:(t=!0,i=n.apply(this,arguments))}},n.wrap=function(n,i){return function(){var r=[n].concat(t.call(arguments,0));return i.apply(this,r)}},n.compose=function(){var n=arguments;return function(){for(var i=arguments,t=n.length-1;t>=0;t--)i=[n[t].apply(this,i)];return i[0]}},n.after=function(n,t){return n<=0?t():function(){if(--n<1)return t.apply(this,arguments)}},n.keys=vt||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&(i[i.length]=r);return i},n.values=function(t){return n.map(t,n.identity)},n.functions=n.methods=function(t){var r=[],i;for(i in t)n.isFunction(t[i])&&r.push(i);return r.sort()},n.extend=function(n){return i(t.call(arguments,1),function(t){for(var i in t)n[i]=t[i]}),n},n.pick=function(r){var u={};return i(n.flatten(t.call(arguments,1)),function(n){n in r&&(u[n]=r[n])}),u},n.defaults=function(n){return i(t.call(arguments,1),function(t){for(var i in t)n[i]==null&&(n[i]=t[i])}),n},n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t},n.tap=function(n,t){return t(n),n},n.isEqual=function(n,t){return p(n,t,[])},n.isEmpty=function(t){if(t==null)return!0;if(n.isArray(t)||n.isString(t))return t.length===0;for(var i in t)if(n.has(t,i))return!1;return!0},n.isElement=function(n){return!!(n&&n.nodeType==1)},n.isArray=at||function(n){return u.call(n)=="[object Array]"},n.isObject=function(n){return n===Object(n)},n.isArguments=function(n){return u.call(n)=="[object Arguments]"},n.isArguments(arguments)||(n.isArguments=function(t){return!!(t&&n.has(t,"callee"))}),n.isFunction=function(n){return u.call(n)=="[object Function]"},n.isString=function(n){return u.call(n)=="[object String]"},n.isNumber=function(n){return u.call(n)=="[object Number]"},n.isFinite=function(t){return n.isNumber(t)&&isFinite(t)},n.isNaN=function(n){return n!==n},n.isBoolean=function(n){return n===!0||n===!1||u.call(n)=="[object Boolean]"},n.isDate=function(n){return u.call(n)=="[object Date]"},n.isRegExp=function(n){return u.call(n)=="[object RegExp]"},n.isNull=function(n){return n===null},n.isUndefined=function(n){return n===void 0},n.has=function(n,t){return lt.call(n,t)},n.noConflict=function(){return l._=st,this},n.identity=function(n){return n},n.times=function(n,t,i){for(var r=0;r<n;r++)t.call(i,r)},n.escape=function(n){return(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},n.result=function(t,i){if(t==null)return null;var r=t[i];return n.isFunction(r)?r.call(t):r},n.mixin=function(t){i(n.functions(t),function(i){ot(i,n[i]=t[i])})},et=0,n.uniqueId=function(n){var t=et++;return n?n+t:t},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},h=/.^/,e={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(w in e)e[e[w]]=w;var yt=/\\|'|\r|\n|\t|\u2028|\u2029/g,pt=/\\(\\|'|r|n|t|u2028|u2029)/g,b=function(n){return n.replace(pt,function(n,t){return e[t]})};return n.template=function(t,i,r){var u,f,o;return(r=n.defaults(r||{},n.templateSettings),u="__p+='"+t.replace(yt,function(n){return"\\"+e[n]}).replace(r.escape||h,function(n,t){return"'+\n_.escape("+b(t)+")+\n'"}).replace(r.interpolate||h,function(n,t){return"'+\n("+b(t)+")+\n'"}).replace(r.evaluate||h,function(n,t){return"';\n"+b(t)+"\n;__p+='"})+"';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+u+"return __p;\n",f=new Function(r.variable||"obj","_",u),i)?f(i,n):(o=function(t){return f.call(this,t,n)},o.source="function("+(r.variable||"obj")+"){\n"+u+"}",o)},n.chain=function(t){return n(t).chain()},f=function(n){this._wrapped=n},n.prototype=f.prototype,c=function(t,i){return i?n(t).chain():t},ot=function(i,r){f.prototype[i]=function(){var i=t.call(arguments);return ct.call(i,this._wrapped),c(r.apply(n,i),this._chain)}},n.mixin(n),i(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];f.prototype[n]=function(){var i=this._wrapped,r;return t.apply(i,arguments),r=i.length,(n=="shift"||n=="splice")&&r===0&&delete i[0],c(i,this._chain)}}),i(["concat","join","slice"],function(n){var t=r[n];f.prototype[n]=function(){return c(t.apply(this._wrapped,arguments),this._chain)}}),f.prototype.chain=function(){return this._chain=!0,this},f.prototype.value=function(){return this._wrapped},n}.call({}),emmet=function(n){function o(n,t,i){var r;return r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){n.apply(this,arguments)},_.extend(r,n),u.prototype=n.prototype,r.prototype=new u,t&&_.extend(r.prototype,t),i&&_.extend(r,i),r.prototype.constructor=r,r.__super__=n.prototype,r}function t(n){return n in i||!r||r(n),i[n]}var f="html",e="plain",i,u,r;if(typeof _=="undefined")try{_=n[["require"][0]]("underscore")}catch(s){}if(typeof _=="undefined")throw"Cannot access to Underscore.js lib";return i={_:_},u=function(){},r=null,{define:function(n,t){n in i||(i[n]=_.isFunction(t)?this.exec(t):t)},require:t,exec:function(i,r){return i.call(r||n,_.bind(t,this),_,this)},extend:function(n,t){var i=o(this,n,t);return i.extend=this.extend,n.hasOwnProperty("toString")&&(i.prototype.toString=n.toString),i},expandAbbreviation:function(n,i,r,u){var e,o;if(!n)return"";i=i||f,e=t("filters"),o=t("abbreviationParser"),r=t("profile").get(r,i),t("tabStops").resetTabstopIndex();var s=e.extractFromAbbreviation(n),h=o.parse(s[0],{syntax:i,contextNode:u}),c=e.composeList(i,r,s[1]);return e.apply(h,c,r),h.toString()},defaultSyntax:function(){return f},defaultProfile:function(){return e},log:function(){n.console&&n.console.log&&n.console.log.apply(n.console,arguments)},setModuleLoader:function(n){r=n}}}(this);typeof exports!="undefined"&&(typeof module!="undefined"&&module.exports&&(exports=module.exports=emmet),exports.emmet=emmet),typeof define!="undefined"&&define(emmet),emmet.define("abbreviationParser",function(n,t){function u(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function o(n){return n.substring(1,n.length-1)}function w(n,t){for(var i;i=n.next();){if(i===t)return!0;i=="\\"}return!1}function c(i){var p,s;i=n("utils").trim(i);for(var h=new u,f=h.addChild(),l,r=n("stringStream").create(i),a=1e3,y;!r.eol()&&--a>0;){l=r.peek();switch(l){case"(":if(r.start=r.pos,r.skipToPair("(",")"))p=c(o(r.current())),(y=r.match(/^\*(\d+)?/,!0))&&f._setRepeat(y[1]),t.each(p.children,function(n){f.addChild(n)});else throw'Invalid abbreviation: mo matching ")" found for character at '+r.pos;break;case">":f=f.addChild(),r.next();break;case"+":f=f.parent.addChild(),r.next();break;case"^":s=f.parent||f,f=(s.parent||s).addChild(),r.next();break;default:r.start=r.pos,r.eatWhile(function(n){if(n=="["||n=="{"){if(r.skipToPair(n,e[n]))return r.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+e[n]+'" found for character at '+r.pos;}if(n=="+"){r.next();var t=r.eol()||~"+>^*".indexOf(r.peek());return r.backUp(1),t}return n!="("&&v(n)}),f.setAbbreviation(r.current()),r.start=r.pos}}if(a<1)throw"Endless loop detected";return h}function b(t){var f,i,e,r,u;for(t=n("utils").trim(t),f=[],i=n("stringStream").create(t),i.eatSpace();!i.eol();)if(i.start=i.pos,i.eatWhile(h)){if(e=i.current(),r="",i.peek()=="=")if(i.next(),i.start=i.pos,u=i.peek(),u=='"'||u=="'")if(i.next(),w(i,u))r=i.current(),r=r.substring(1,r.length-1);else throw"Invalid attribute value";else if(i.eatWhile(/[^\s\]]/))r=i.current();else throw"Invalid attribute value";f.push({name:e,value:r}),i.eatSpace()}else break;return f}function k(t){for(var r=[],e={"#":"id",".":"class"},u=null,i=n("stringStream").create(t),f;!i.eol();)switch(i.peek()){case"#":case".":u===null&&(u=i.pos),f=e[i.peek()],i.next(),i.start=i.pos,i.eatWhile(h),r.push({name:f,value:i.current()});break;case"[":if(u===null&&(u=i.pos),i.start=i.pos,!i.skipToPair("[","]"))throw"Invalid attribute set definition";r=r.concat(b(o(i.current())));break;default:i.next()}return r.length?{element:t.substring(0,u),attributes:l(r)}:null}function l(n){n=t.map(n,function(n){return t.clone(n)});var i={};return t.filter(n,function(n){if(!(n.name in i))return i[n.name]=n;var t=i[n.name];return n.name.toLowerCase()=="class"?t.value+=(t.value.length?" ":"")+n.value:t.value=n.value,!1})}function d(t){if(!~t.indexOf("{"))return null;for(var i=n("stringStream").create(t);!i.eol();)switch(i.peek()){case"[":case"(":i.skipToPair(i.peek(),e[i.peek()]);break;case"{":return i.start=i.pos,i.skipToPair("{","}"),{element:t.substring(0,i.start),text:o(i.current())};default:i.next()}}function a(n){for(var r=n.children.length-1,u,i,f;r>=0;r--)if(i=n.children[r],i.isRepeating())for(f=u=i.repeatCount,i.repeatCount=1,i.updateProperty("counter",1),i.updateProperty("maxCount",f);--u>0;)i.parent.addChild(i.clone(),r+1).updateProperty("counter",u+1).updateProperty("maxCount",f);return t.each(n.children,a),n}function s(n){for(var i,r=n.children.length-1;r>=0;r--)i=n.children[r],i.isGroup()?i.replace(s(i).children):i.isEmpty()&&i.remove();return t.each(n.children,s),n}function v(n){var t=n.charCodeAt(0);return t>64&&t<91||t>96&&t<123||t>47&&t<58||"#.*:$-_!@|%".indexOf(n)!=-1}var y=/^[\w\-\$\:@\!%]+\+?$/i,h=/[\w\-:\$@]/,e={"[":"]","(":")","{":"}"},p=Array.prototype.splice,f=[],r=[],i=[];return u.prototype={addChild:function(n,i){return n=n||new u,n.parent=this,t.isUndefined(i)?this.children.push(n):this.children.splice(i,0,n),n},clone:function(){var n=new u;return t.each(["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"],function(t){n[t]=this[t]},this),n._attributes=t.map(this._attributes,function(n){return t.clone(n)}),n._data=t.clone(this._data),n.children=t.map(this.children,function(t){return t=t.clone(),t.parent=n,t}),n},remove:function(){return this.parent&&(this.parent.children=t.without(this.parent.children,this)),this},replace:function(){var n=this.parent,r=t.indexOf(n.children,this),i=t.flatten(arguments);p.apply(n.children,[r,1].concat(i)),t.each(i,function(t){t.parent=n})},updateProperty:function(n,i){return this[n]=i,t.each(this.children,function(t){t.updateProperty(n,i)}),this},find:function(n){return this.findAll(n)[0]},findAll:function(n){var r,i;return t.isFunction(n)||(r=n.toLowerCase(),n=function(n){return n.name().toLowerCase()==r}),i=[],t.each(this.children,function(t){n(t)&&i.push(t),i=i.concat(t.findAll(n))}),t.compact(i)},data:function(t,i){return arguments.length==2&&(this._data[t]=i,t=="resource"&&n("elements").is(i,"snippet")&&(this.content=i.data,this._text&&(this.content=n("abbreviationUtils").insertChildContent(i.data,this._text)))),this._data[t]},name:function(){var t=this.matchedResource();return n("elements").is(t,"element")?t.name:this._name},attributeList:function(){var i=[],r=this.matchedResource();return n("elements").is(r,"element")&&t.isArray(r.attributes)&&(i=i.concat(r.attributes)),l(i.concat(this._attributes))},attribute:function(n,i){if(arguments.length==2){var r=t.indexOf(t.pluck(this._attributes,"name"),n.toLowerCase());~r?this._attributes[r].value=i:this._attributes.push({name:n,value:i})}return(t.find(this.attributeList(),function(t){return t.name==n})||{}).value},matchedResource:function(){return this.data("resource")},index:function(){return this.parent?t.indexOf(this.parent.children,this):-1},_setRepeat:function(n){n?this.repeatCount=parseInt(n,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(n){var r,t,i;if(n=n||"",r=this,n=n.replace(/\*(\d+)?$/,function(n,t){return r._setRepeat(t),""}),this.abbreviation=n,t=d(n),t&&(n=t.element,this.content=this._text=t.text),i=k(n),i&&(n=i.element,this._attributes=i.attributes),this._name=n,this._name&&!y.test(this._name))throw"Invalid abbreviation";},toString:function(){var s=n("utils"),u=this.start,f=this.end,r=this.content,e=this,o;return t.each(i,function(n){u=n(u,e,"start"),r=n(r,e,"content"),f=n(f,e,"end")}),o=t.map(this.children,function(n){return n.toString()}).join(""),r=n("abbreviationUtils").insertChildContent(r,o,{keepVariable:!1}),u+s.padString(r,this.padding)+f},hasEmptyChildren:function(){return!!t.find(this.children,function(n){return n.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var n=this;n.children.length;)n=t.last(n.children);return n}},i.push(function(t,i){return n("utils").replaceCounter(t,i.counter,i.maxCount)}),{parse:function(n,i){var u,e;return i=i||{},u=c(n),i.contextNode&&(u._name=i.contextNode.name,e={},t.each(u._attributes,function(n){e[n.name]=n}),t.each(i.contextNode.attributes,function(n){n.name in e?e[n.name].value=n.value:(n=t.clone(n),u._attributes.push(n),e[n.name]=n)})),t.each(f,function(n){n(u,i)}),u=s(a(u)),t.each(r,function(n){n(u,i)}),u},AbbreviationNode:u,addPreprocessor:function(n){t.include(f,n)||f.push(n)},removeFilter:function(n){preprocessor=t.without(f,n)},addPostprocessor:function(n){t.include(r,n)||r.push(n)},removePostprocessor:function(n){r=t.without(r,n)},addOutputProcessor:function(n){t.include(i,n)||i.push(n)},removeOutputProcessor:function(n){i=t.without(i,n)},isAllowedChar:function(n){return n=String(n),v(n)||~">+^[](){}".indexOf(n)}}}),emmet.exec(function(n,t){function i(r,u){var e=n("resources"),f=n("elements"),o=n("abbreviationParser");t.each(t.clone(r.children),function(n){var r=e.getMatchedResource(n,u),s,c,h;t.isString(r)?n.data("resource",f.create("snippet",r)):f.is(r,"reference")?(s=o.parse(r.data,{syntax:u}),n.repeatCount>1&&(c=s.findAll(function(n){return n.hasImplicitRepeat}),t.each(c,function(t){t.repeatCount=n.repeatCount,t.hasImplicitRepeat=!1})),h=s.deepestChild(),h&&t.each(n.children,function(n){h.addChild(n)}),t.each(s.children,function(i){t.each(n.attributeList(),function(n){i.attribute(n.name,n.value)})}),n.replace(s.children)):n.data("resource",r),i(n,u)})}n("abbreviationParser").addPreprocessor(function(n,t){var r=t.syntax||emmet.defaultSyntax();i(n,r)})}),emmet.exec(function(n,t){function i(t){for(var f=n("range"),r=[],i=n("stringStream").create(t);!i.eol();){if(i.peek()=="\\")i.next();else if(i.start=i.pos,i.match(u,!0)){r.push(f.create(i.start,u));continue}i.next()}return r}function f(r,u){var e=n("utils"),f=i(r);return f.reverse(),t.each(f,function(n){r=e.replaceSubstring(r,u,n)}),r}function e(n){return i(n.content).length?!0:!!t.find(n.attributeList(),function(n){return!!i(n.value).length})}function o(i,r,u){var o=i.findAll(function(n){return e(n)}),s;e(i)&&o.unshift(i),o.length?t.each(o,function(n){n.content=f(n.content,r),t.each(n._attributes,function(n){n.value=f(n.value,r)})}):(s=i.deepestChild()||i,s.content=u?r:n("abbreviationUtils").insertChildContent(s.content,r))}var r=n("abbreviationParser"),u="$#";r.addPreprocessor(function(i,r){if(r.pastedContent){var u=n("utils"),f=t.map(u.splitByLines(r.pastedContent,!0),u.trim);i.findAll(function(n){if(n.hasImplicitRepeat)return n.data("paste",f),n.repeatCount=f.length})}}),r.addPostprocessor(function(n,i){var r=n.findAll(function(n){var i=n.data("paste"),r="";return t.isArray(i)?r=i[n.counter-1]:t.isFunction(i)?r=i(n.counter-1,n.content):i&&(r=i),r&&o(n,r,!!n.data("pasteOverwrites")),n.data("paste",null),!!i});!r.length&&i.pastedContent&&o(n,i.pastedContent)})}),emmet.exec(function(n,t){function i(r){var u=n("tagName");return t.each(r.children,function(n){(n.hasImplicitName()||n.data("forceNameResolving"))&&(n._name=u.resolve(n.parent.name())),i(n)}),r}n("abbreviationParser").addPostprocessor(i)}),emmet.define("cssParser",function(n,t){function f(n){return typeof n!="undefined"}function u(){return{char:i.chnum,line:i.linenum}}function r(n,t,r){var e=i,u=r||{};o.push({charstart:f(u.char)?u.char:e.chnum,charend:f(u.charend)?u.charend:e.chnum,linestart:f(u.line)?u.line:e.linenum,lineend:f(u.lineend)?u.lineend:e.linenum,value:n,type:t||n})}function c(n,t){var u=i,r=t||{},e=f(r.char)?r.char:u.chnum,s=f(r.line)?r.line:u.linenum;return{name:"ParseError",message:n+" at line "+(s+1)+" char "+(e+1),walker:u,tokens:o}}function a(){for(var n=i.ch,t="",f=u();n===" "||n==="\t";)t+=n,n=i.nextChar();r(t,"white",f)}function v(){var e=i,o=e.ch,f=o,n,t=u();if(n=e.nextChar(),n!=="*")return t.charend=t.char,t.lineend=t.line,r(f,f,t);while(!(o==="*"&&n==="/"))f+=n,o=n,n=e.nextChar();f+=n,e.nextChar(),r(f,"comment",t)}function y(){for(var t=i,n=t.ch,s=n,f=n,e,o=u(),n=t.nextChar();n!==s;){if(n==="\n")if(e=t.nextChar(),e==="\\")f+=n+e;else throw c("Unterminated string",o);else f+=n==="\\"?n+t.nextChar():n;n=t.nextChar()}f+=n,t.nextChar(),r(f,"string",o)}function p(){for(var t=i,n=t.ch,f=0,e=n,o=u(),n=t.nextChar();n!==")"&&!f;){if(n==="(")f++;else if(n===")")f--;else if(n===!1)throw c("Unterminated brace",o);e+=n,n=t.nextChar()}e+=n,t.nextChar(),r(e,"brace",o)}function l(n){var f=i,t=f.ch,o=u(),s=n?n+t:t;for(t=f.nextChar(),n&&(o.char-=n.length);h(t)||e(t);)s+=t,t=f.nextChar();r(s,"identifier",o)}function w(){var o=i,n=o.ch,t=u(),f=n,s=f===".",h;if(n=o.nextChar(),h=!e(n),s&&h)return t.charend=t.char,t.lineend=t.line,r(f,".",t);if(f==="-"&&h)return l("-");while(n!==!1&&(e(n)||!s&&n==="."))n==="."&&(s=!0),f+=n,n=o.nextChar();r(f,"number",t)}function b(){var f=i,o=f.ch,n=u(),t=o,e=f.nextChar();if(e==="="&&s(t,!0)){t+=e,r(t,"match",n),f.nextChar();return}n.charend=n.char+1,n.lineend=n.line,r(t,t,n)}function k(){var n=i.ch;if(n===" "||n==="\t")return a();if(n==="/")return v();if(n==='"'||n==="'")return y();if(n==="(")return p();if(n==="-"||n==="."||e(n))return w();if(h(n))return l();if(s(n))return b();if(n==="\n"){r("line"),i.nextChar();return}throw c("Unrecognized character");}function d(n,t){return n.charAt(t)=="\r"&&n.charAt(t+1)=="\n"?"\r\n":n.charAt(t)}var i,o=[],s,h,e;return i={lines:null,total_lines:0,linenum:-1,line:"",ch:"",chnum:-1,init:function(n){var t=i;t.lines=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),t.total_lines=t.lines.length,t.chnum=-1,t.linenum=-1,t.ch="",t.line="",t.nextLine(),t.nextChar()},nextLine:function(){var n=this;return n.linenum+=1,n.line=n.total_lines<=n.linenum?!1:n.lines[n.linenum],n.chnum!==-1&&(n.chnum=0),n.line},nextChar:function(){var n=this;for(n.chnum+=1;n.line.charAt(n.chnum)==="";)return this.nextLine()===!1?(n.ch=!1,!1):(n.chnum=-1,n.ch="\n","\n");return n.ch=n.line.charAt(n.chnum),n.ch},peek:function(){return this.line.charAt(this.chnum+1)}},h=function(n){return n=="&"||n==="_"||n==="-"||n>="a"&&n<="z"||n>="A"&&n<="Z"},e=function(n){return n!==!1&&n>="0"&&n<="9"},s=function(){for(var t="{}[]()+*=.,;:>~|\\%$#@^!".split(""),i="*^|$~".split(""),r={},u={},n=0;n<t.length;n+=1)r[t[n]]=!0;for(n=0;n<i.length;n+=1)u[i[n]]=!0;return function(n,t){return t?!!u[n]:!!r[n]}}(),{lex:function(n){for(i.init(n),o=[];i.ch!==!1;)k();return o},parse:function(n){var i=0;return t.map(this.lex(n),function(t){return t.type=="line"&&(t.value=d(n,i)),{type:t.type,start:i,end:i+=t.value.length}})},toSource:function(n){for(var t=0,u=n.length,i,r="";t<u;t+=1)i=n[t],r+=i.type==="line"?"\n":i.value;return r}}}),emmet.define("xmlParser",function(n){function s(n,t){function i(i){return t.tokenize=i,i(n,t)}var r=n.next(),u,o;if(r=="<"){if(n.eat("!"))return n.eat("[")?n.match("CDATA[")?i(c("atom","]\]>")):null:n.match("--")?i(c("comment","-->")):n.match("DOCTYPE",!0,!0)?(n.eatWhile(/[\w\._\-]/),i(l(1))):null;if(n.eat("?"))return n.eatWhile(/[\w\._\-]/),t.tokenize=c("meta","?>"),"meta";for(f=n.eat("/")?"closeTag":"openTag",n.eatSpace(),e="";u=n.eat(/[^\s\u00a0=<>\"\'\/?]/);)e+=u;return t.tokenize=v,"tag"}return r=="&"?(o=n.eat("#")?n.eat("x")?n.eatWhile(/[a-fA-F\d]/)&&n.eat(";"):n.eatWhile(/[\d]/)&&n.eat(";"):n.eatWhile(/[\w\.\-:]/)&&n.eat(";"),o?"atom":"error"):(n.eatWhile(/[^&<]/),"text")}function v(n,t){var i=n.next();return i==">"||i=="/"&&n.eat(">")?(t.tokenize=s,f=i==">"?"endTag":"selfcloseTag","tag"):i=="="?(f="equals",null):/[\'\"]/.test(i)?(t.tokenize=w(i),t.tokenize(n,t)):(n.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function w(n){return function(t,i){while(!t.eol())if(t.next()==n){i.tokenize=v;break}return"string"}}function c(n,t){return function(i,r){while(!i.eol()){if(i.match(t)){r.tokenize=s;break}i.next()}return n}}function l(n){return function(t,i){for(var r;(r=t.next())!=null;){if(r=="<")return i.tokenize=l(n+1),i.tokenize(t,i);if(r==">")if(n==1){i.tokenize=s;break}else return i.tokenize=l(n-1),i.tokenize(t,i)}return"meta"}}function o(){for(var n=arguments.length-1;n>=0;n--)t.cc.push(arguments[n])}function i(){return o.apply(null,arguments),!0}function b(n,i){var r=u.doNotIndent.hasOwnProperty(n)||t.context&&t.context.noIndent;t.context={prev:t.context,tagName:n,indent:t.indented,startOfLine:i,noIndent:r}}function a(){t.context&&(t.context=t.context.prev)}function k(n){if(n=="openTag")return t.tagName=e,i(h,d(t.startOfLine));if(n=="closeTag"){var f=!1;return t.context?t.context.tagName!=e&&(u.implicitlyClosed.hasOwnProperty(t.context.tagName.toLowerCase())&&a(),f=!t.context||t.context.tagName!=e):f=!0,f&&(r="error"),i(g(f))}return i()}function d(n){return function(r){return r=="selfcloseTag"||r=="endTag"&&u.autoSelfClosers.hasOwnProperty(t.tagName.toLowerCase())?(y(t.tagName.toLowerCase()),i()):r=="endTag"?(y(t.tagName.toLowerCase()),b(t.tagName,n),i()):i()}}function g(n){return function(t){return(n&&(r="error"),t=="endTag")?(a(),i()):(r="error",i(arguments.callee))}}function y(n){for(var i;;){if(!t.context)return;if(i=t.context.tagName.toLowerCase(),!u.contextGrabbers.hasOwnProperty(i)||!u.contextGrabbers[i].hasOwnProperty(n))return;a()}}function h(n){return n=="word"?(r="attribute",i(nt,h)):n=="endTag"||n=="selfcloseTag"?o():(r="error",i(h))}function nt(n){return n=="equals"?i(tt,h):(u.allowMissing||(r="error"),n=="endTag"||n=="selfcloseTag"?o():i())}function tt(n){return n=="string"?i(p):n=="word"&&u.allowUnquoted?(r="string",i()):(r="error",n=="endTag"||n=="selfCloseTag"?o():i())}function p(n){return n=="string"?i(p):o()}function it(){return{tokenize:s,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}}function rt(n,i){var u,o;if(n.sol()&&(i.startOfLine=!0,i.indented=0),n.eatSpace())return null;if(r=f=e=null,u=i.tokenize(n,i),i.type=f,(u||f)&&u!="comment")for(t=i;;)if(o=i.cc.pop()||k,o(f||u))break;return i.startOfLine=!1,r||u}var u={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},e=null,f=null,t=null,r;return{parse:function(t,i){i=i||0;for(var f=it(),r=n("stringStream").create(t),u=[];!r.eol();)u.push({type:rt(r,f),start:r.start+i,end:r.pos+i}),r.start=r.pos;return u}}}),emmet.define("string-score",function(){return{score:function(n,t,i){var f,e,u,o,c,l,a;if(n==t)return 1;if(t=="")return 0;var v=0,s=t.length,y=n.length,p,h,w=1,r;for(f=0;f<s;++f){if(o=t.charAt(f),c=n.indexOf(o.toLowerCase()),l=n.indexOf(o.toUpperCase()),a=Math.min(c,l),u=a>-1?a:Math.max(c,l),u===-1)if(i){w+=1-i;continue}else return 0;else e=.1;n[u]===o&&(e+=.1),u===0?(e+=.6,f===0&&(p=1)):n.charAt(u-1)===" "&&(e+=.8),n=n.substring(u+1,y),v+=e}return h=v/s,r=(h*(s/y)+h)/2,r=r/w,p&&r+.15<1&&(r+=.15),r}}}),emmet.define("utils",function(n,t){function r(n){this._data=[],this.length=0,n&&this.append(n)}var i="${0}";return r.prototype={append:function(n){this._data.push(n),this.length+=n.length},toString:function(){return this._data.join("")},valueOf:function(){return this.toString()}},{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:function(n){return this.reTag.test(n)},isNumeric:function(n){return typeof n=="string"&&(n=n.charCodeAt(0)),n&&n>47&&n<58},trim:function(n){return(n||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var r=n("resources"),i;return r?(i=r.getVariable("newline"),t.isString(i)?i:"\n"):"\n"},setNewline:function(t){var i=n("resources");i.setVariable("newline",t),i.setVariable("nl",t)},splitByLines:function(n,i){var u=this.getNewline(),r=(n||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,u).split(u);return i&&(r=t.filter(r,function(n){return n.length&&!!this.trim(n)},this)),r},normalizeNewline:function(n){return this.splitByLines(n).join(this.getNewline())},repeatString:function(n,t){for(var r=[],i=0;i<t;i++)r.push(n);return r.join("")},getStringsPads:function(n){var i=t.map(n,function(n){return t.isString(n)?n.length:+n}),r=t.max(i);return t.map(i,function(n){var t=r-n;return t?this.repeatString(" ",t):""},this)},padString:function(i,r){var o=t.isNumber(r)?this.repeatString(n("resources").getVariable("indentation")||"\t",r):r,f=[],e=this.splitByLines(i),s=this.getNewline(),u;for(f.push(e[0]),u=1;u<e.length;u++)f.push(s+o+e[u]);return f.join("")},zeroPadString:function(n,t){for(var i="",r=n.length;t>r++;)i+="0";return i+n},unindentString:function(n,t){for(var r=this.splitByLines(n),i=0;i<r.length;i++)r[i].search(t)==0&&(r[i]=r[i].substr(t.length));return r.join(this.getNewline())},replaceUnescapedSymbol:function(n,i,r){for(var u=0,h=n.length,o=i.length,c=0,s,f,e;u<h;)if(n.charAt(u)=="\\")u+=o+1;else if(n.substr(u,o)==i){if(s=o,c++,f=r,t.isFunction(r)&&(e=r(n,i,u,c),e?(s=e[0].length,f=e[1]):f=!1),f===!1){u++;continue}n=n.substring(0,u)+f+n.substring(u+s),h=n.length,u+=f.length}else u++;return n},replaceVariables:function(i,r){r=r||{};var u=t.isFunction(r)?r:function(n,t){return t in r?r[t]:null},f=n("resources");return n("tabStops").processText(i,{variable:function(n){var i=u(n.token,n.name,n);return i===null&&(i=f.getVariable(n.name)),(i===null||t.isUndefined(i))&&(i=n.token),i}})},replaceCounter:function(n,i,r){var u;return n=String(n),i=String(i),/^\-?\d+$/.test(i)&&(i=+i),u=this,this.replaceUnescapedSymbol(n,"$",function(n,f,e){var o;if(n.charAt(e+1)=="{"||u.isNumeric(n.charAt(e+1)))return!1;for(o=e+1;n.charAt(o)=="$"&&n.charAt(o+1)!="{";)o++;var l=o-e,h=0,c=!1,s;return(s=n.substr(o).match(/^@(\-?)(\d*)/))&&(o+=s[0].length,s[1]&&(c=!0),h=parseInt(s[2]||1)-1),c&&r&&t.isNumber(i)&&(i=r-i+1),i+=h,[n.substring(e,o),u.zeroPadString(i+"",l)]})},matchesTag:function(n){return this.reTag.test(n||"")},escapeText:function(n){return n.replace(/([\$\\])/g,"\\$1")},unescapeText:function(n){return n.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return t.isFunction(i)?i.apply(this,arguments):i},setCaretPlaceholder:function(n){i=n},getLinePadding:function(n){return(n.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(n,t){var i=this.findNewlineBounds(n,t);return this.getLinePadding(i.substring(n))},escapeForRegexp:function(n){var t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return n.replace(t,"\\$&")},prettifyNumber:function(n,t){return n.toFixed(typeof t=="undefined"?2:t).replace(/\.?0+$/,"")},stringBuilder:function(n){return new r(n)},replaceSubstring:function(n,i,r,u){return(t.isObject(r)&&"end"in r&&(u=r.end,r=r.start),t.isString(u)&&(u=r+u.length),t.isUndefined(u)&&(u=r),r<0||r>n.length)?n:n.substring(0,r)+i+n.substring(u)},narrowToNonSpace:function(t,i,r){for(var u=n("range").create(i,r),f=/[\s\n\r\u00a0]/;u.start<u.end;){if(!f.test(t.charAt(u.start)))break;u.start++}while(u.end>u.start)if(u.end--,!f.test(t.charAt(u.end))){u.end++;break}return u},findNewlineBounds:function(t,i){for(var o=t.length,e=0,s=o-1,f,r,u=i-1;u>0;u--)if(r=t.charAt(u),r=="\n"||r=="\r"){e=u+1;break}for(f=i;f<o;f++)if(r=t.charAt(f),r=="\n"||r=="\r"){s=f;break}return n("range").create(e,s-e)},deepMerge:function(){var f,u,r,n,e,o,i=arguments[0]||{},s=1,h=arguments.length;for(t.isObject(i)||t.isFunction(i)||(i={});s<h;s++)if((f=arguments[s])!=null)for(u in f)(r=i[u],n=f[u],i!==n)&&(n&&(t.isObject(n)||(e=t.isArray(n)))?(e?(e=!1,o=r&&t.isArray(r)?r:[]):o=r&&t.isObject(r)?r:{},i[u]=this.deepMerge(o,n)):n!==undefined&&(i[u]=n));return i}}}),emmet.define("range",function(n,t){function r(n,t,i){switch(i){case"eq":case"==":return n===t;case"lt":case"<":return n<t;case"lte":case"<=":return n<=t;case"gt":case">":return n>t;case"gte":case">=":return n>=t}}function i(n,i){t.isObject(n)&&"start"in n?(this.start=Math.min(n.start,n.end),this.end=Math.max(n.start,n.end)):t.isArray(n)?(this.start=n[0],this.end=n[1]):(i=t.isString(i)?i.length:+i,this.start=n,this.end=n+i)}return i.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(n){return this.cmp(n,"eq","eq")},shift:function(n){return this.start+=n,this.end+=n,this},overlap:function(n){return n.start<=this.end&&n.end>=this.start},intersection:function(n){if(this.overlap(n)){var t=Math.max(n.start,this.start),r=Math.min(n.end,this.end);return new i(t,r-t)}return null},union:function(n){if(this.overlap(n)){var t=Math.min(n.start,this.start),r=Math.max(n.end,this.end);return new i(t,r-t)}return null},inside:function(n){return this.cmp(n,"lte","gt")},contains:function(n){return this.cmp(n,"lt","gt")},include:function(){return this.cmp(loc,"lte","gte")},cmp:function(n,t,u){var f,e;return n instanceof i?(f=n.start,e=n.end):f=e=n,r(this.start,f,t||"<=")&&r(this.end,e,u||">")},substring:function(n){return this.length()>0?n.substring(this.start,this.end):""},clone:function(){return new i(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return"{"+this.start+", "+this.length()+"}"}},{create:function(n,r){return t.isUndefined(n)||n===null?null:n instanceof i?n:(t.isObject(n)&&"start"in n&&"end"in n&&(r=n.end-n.start,n=n.start),new i(n,r))},create2:function(n,i){return t.isNumber(n)&&t.isNumber(i)&&(i-=n),this.create(n,i)}}}),emmet.define("handlerList",function(n,t){function i(){this._list=[]}return i.prototype={add:function(n,i){this._list.push(t.extend({order:0},i||{},{fn:n}))},remove:function(n){this._list=t.without(this._list,t.find(this._list,function(t){return t.fn===n}))},list:function(){return t.sortBy(this._list,"order").reverse()},listFn:function(){return t.pluck(this.list(),"fn")},exec:function(n,i){i=i||[];var r=null;return t.find(this.list(),function(t){return r=t.fn.apply(t,i),r!==n?!0:void 0}),r}},{create:function(){return new i}}}),emmet.define("tokenIterator",function(n,t){function i(n){this.tokens=n,this._position=0,this.reset()}return i.prototype={next:function(){if(this.hasNext()){var n=this.tokens[++this._i];return this._position=n.start,n}return null},current:function(){return this.tokens[this._i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=-1,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(n,i){for(var r,u=t.isString(n)?function(t){return t.type==n}:n;r=this.next();)if(i&&i.call(this,r),u.call(this,r))break}},{create:function(n){return new i(n)}}}),emmet.define("stringStream",function(){function n(n){this.pos=this.start=0,this.string=n}return n.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(n){var t=this.string.charAt(this.pos),i;return i=typeof n=="string"?t==n:t&&(n.test?n.test(t):n(t)),i?(++this.pos,t):void 0},eatWhile:function(n){for(var t=this.pos;this.eat(n););return this.pos>t},eatSpace:function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},skipToEnd:function(){this.pos=this.string.length},skipTo:function(n){var t=this.string.indexOf(n,this.pos);if(t>-1)return this.pos=t,!0},skipToPair:function(n,t){for(var i=0,r,u=this.pos,f=this.string.length;u<f;)if(r=this.string.charAt(u++),r==n)i++;else if(r==t&&(i--,i<1))return this.pos=u,!0;return!1},backUp:function(n){this.pos-=n},match:function(n,t,i){var u,r;if(typeof n=="string"){if(u=i?function(n){return n.toLowerCase()}:function(n){return n},u(this.string).indexOf(u(n),this.pos)==this.pos)return t!==!1&&(this.pos+=n.length),!0}else return r=this.string.slice(this.pos).match(n),r&&t!==!1&&(this.pos+=r[0].length),r},current:function(){return this.string.slice(this.start,this.pos)}},{create:function(t){return new n(t)}}}),emmet.define("resources",function(n,t){function l(t){var i=n("utils");return i.replaceUnescapedSymbol(t,"|",i.getCaretPlaceholder())}function o(t,i,r){return(i=l(i),r=="snippets")?n("elements").create("snippet",i):r=="abbreviations"?a(t,i):void 0}function a(t,i){t=n("utils").trim(t);var u=n("elements"),r;return(r=c.exec(i))?u.create("element",r[1],r[2],r[4]=="/"):u.create("reference",i)}function s(n){return n.replace(/:$/,"").replace(/:/g,"-")}var r="system",h="user",i={},c=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,u={},f={},e=n("handlerList").create();return{setVocabulary:function(n,t){i={},t==r?u=n:f=n},getVocabulary:function(n){return n==r?u:f},getMatchedResource:function(n,i){return e.exec(null,t.toArray(arguments))||this.findSnippet(i,n.name())},getVariable:function(n){return(this.getSection("variables")||{})[n]},setVariable:function(n,t){var i=this.getVocabulary("user")||{};"variables"in i||(i.variables={}),i.variables[n]=t,this.setVocabulary(i,"user")},hasSyntax:function(n){return n in this.getVocabulary(h)||n in this.getVocabulary(r)},addResolver:function(n,t){e.add(n,t)},removeResolver:function(n){e.remove(n)},getSection:function(r){if(!r)return null;r in i||(i[r]=n("utils").deepMerge({},u[r],f[r]));for(var e=i[r],s=t.rest(arguments),o;e&&(o=s.shift());)if(o in e)e=e[o];else return null;return e},findItem:function(n,t){for(var i=this.getSection(n);i;){if(t in i)return i[t];i=this.getSection(i["extends"])}},findSnippet:function(n,i,r){var e,u,f;return!n||!i?null:(r=r||[],e=[i],~i.indexOf("-")&&e.push(i.replace(/\-/g,":")),u=this.getSection(n),f=null,t.find(["snippets","abbreviations"],function(i){var r=this.getSection(n,i);if(r)return t.find(e,function(n){if(r[n])return f=o(n,r[n],i)})},this),r.push(n),!f&&u["extends"]&&!t.include(r,u["extends"]))?this.findSnippet(u["extends"],i,r):f},fuzzyFindSnippet:function(i,r,u){var e,o,h,f,c;return u=u||.3,e=this.getAllSnippets(i),o=n("string-score"),r=s(r),h=t.map(e,function(n,t){return{key:t,score:o.score(n.nk,r,.1)}}),f=t.last(t.sortBy(h,"score")),f&&f.score>=u?(c=f.key,e[c].parsedValue):void 0},getAllSnippets:function(n){var f="all-"+n,u;if(!i[f]){var e=[],r=n,h=[];do{if(u=this.getSection(r),!u)break;t.each(["snippets","abbreviations"],function(n){var i={};t.each(u[n]||null,function(t,r){i[r]={nk:s(r),value:t,parsedValue:o(r,t,n),type:n}}),e.push(i)}),h.push(r),r=u["extends"]}while(r&&!t.include(h,r));i[f]=t.extend.apply(t,e.reverse())}return i[f]}}}),emmet.define("actions",function(n,t){function r(t){return n("utils").trim(t.charAt(0).toUpperCase()+t.substring(1).replace(/_[a-z]/g,function(n){return" "+n.charAt(1).toUpperCase()}))}var i={};return{add:function(n,t,u){n=n.toLowerCase(),u=u||{},u.label||(u.label=r(n)),i[n]={name:n,fn:t,options:u}},get:function(n){return i[n.toLowerCase()]},run:function(n,i){t.isArray(i)||(i=t.rest(arguments));var r=this.get(n);return r?r.fn.apply(emmet,i):(emmet.log('Action "%s" is not defined',n),!1)},getAll:function(){return i},getList:function(){return t.values(this.getAll())},getMenu:function(n){var i=[];return n=n||[],t.each(this.getList(),function(u){var o,f,s,h,e;if(!u.options.hidden&&!t.include(n,u.name)){if(o=r(u.name),f=i,u.options.label)for(s=u.options.label.split("/"),o=s.pop();h=s.shift();)e=t.find(f,function(n){return n.type=="submenu"&&n.name==h}),e||(e={name:h,type:"submenu",items:[]},f.push(e)),f=e.items;f.push({type:"action",name:u.name,label:o})}}),i},getActionNameForMenuTitle:function(n,i){var r=null;return t.find(i||this.getMenu(),function(t){if(t.type=="action"){if(t.label==n||t.name==n)return r=t.name}else return r=this.getActionNameForMenuTitle(n,t.items)},this),r||null}}}),emmet.define("profile",function(n,t){function u(n){t.extend(this,e,n)}function f(n,t){switch(String(t||"").toLowerCase()){case"lower":return n.toLowerCase();case"upper":return n.toUpperCase()}return n}function r(n,t){return i[n.toLowerCase()]=new u(t)}function o(){r("xhtml"),r("html",{self_closing_tag:!1}),r("xml",{self_closing_tag:!0,tag_nl:!0}),r("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),r("line",{tag_nl:!1,indent:!1,extraFilters:"s"})}var i={},e={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:"",extraFilters:""};return u.prototype={tagName:function(n){return f(n,this.tag_case)},attributeName:function(n){return f(n,this.attr_case)},attributeQuote:function(){return this.attr_quotes=="single"?"'":'"'},selfClosing:function(){return this.self_closing_tag=="xhtml"?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?n("utils").getCaretPlaceholder():""}},o(),{create:function(n,i){return arguments.length==2?r(n,i):new u(t.defaults(n||{},e))},get:function(r,f){if(!r&&f){var e=n("resources").findItem(f,"profile");e&&(r=e)}return r?r instanceof u?r:t.isString(r)&&r.toLowerCase()in i?i[r.toLowerCase()]:this.create(r):i.plain},remove:function(n){n=(n||"").toLowerCase(),n in i&&delete i[n]},reset:function(){i={},o()},stringCase:f}}),emmet.define("editorUtils",function(n){return{isInsideTag:function(n,t){for(var i=t,r;i>-1;){if(n.charAt(i)=="<")break;i--}return i!=-1&&(r=/^<\/?\w[\w\:\-]*.*?>/.exec(n.substring(i)),r&&t>i&&t<i+r[0].length)?!0:!1},outputInfo:function(n,t,i){return i=i||n.getProfileName(),{syntax:String(t||n.getSyntax()),profile:i?String(i):null,content:String(n.getContent())}},unindent:function(t,i){return n("utils").unindentString(i,this.getCurrentLinePadding(t))},getCurrentLinePadding:function(t){return n("utils").getLinePadding(t.getCurrentLine())}}}),emmet.define("actionUtils",function(n){return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(t){for(var r=t.length,u=-1,o=0,f=0,e=0,s=n("utils"),h=n("abbreviationParser"),i;;){if(r--,r<0){u=0;break}if(i=t.charAt(r),i=="]")f++;else if(i=="["){if(!f){u=r+1;break}f--}else if(i=="}")e++;else if(i=="{"){if(!e){u=r+1;break}e--}else if(i==")")o++;else if(i=="("){if(!o){u=r+1;break}o--}else if(f||e)continue;else if(!h.isAllowedChar(i)||i==">"&&s.endsWithTag(t.substring(0,r+1))){u=r+1;break}}return u==-1||e||f||o?"":t.substring(u).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(n){var t=function(){return n.charCodeAt(i++)},i,u,r,f;if(n.substr(0,8)==="\211PNG\r\n\032\n")return i=n.indexOf("IHDR")+4,{width:t()<<24|t()<<16|t()<<8|t(),height:t()<<24|t()<<16|t()<<8|t()};if(n.substr(0,4)==="GIF8")return i=6,{width:t()|t()<<8,height:t()|t()<<8};if(n.substr(0,2)==="\377\330")for(i=2,u=n.length;i<u;){if(t()!=255)return;if(r=t(),r==218)break;if(f=t()<<8|t(),r>=192&&r<=207&&!(r&4)&&!(r&8))return i+=1,{height:t()<<8|t(),width:t()<<8|t()};i+=f-2}},captureContext:function(t){var o=String(t.getSyntax()),r,i;if(o in{html:1,xml:1,xsl:1}&&(r=String(t.getContent()),i=n("htmlMatcher").find(r,t.getCaretPos()),i&&i.type=="tag")){for(var s=/([\w\-:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=i.open,h=f.range.substring(r).replace(/^<[\w\-\:]+/,""),e={name:f.name,attributes:[]},u;u=s.exec(h);)e.attributes.push({name:u[1],value:u[2]});return e}return null},findExpressionBounds:function(t,i){for(var f=String(t.getContent()),e=f.length,r=t.getCaretPos()-1,u=r+1;r>=0&&i(f.charAt(r),r,f);)r--;while(u<e&&i(f.charAt(u),u,f))u++;if(u>r)return n("range").create([++r,u])},compoundUpdate:function(n,t){if(t){var i=n.getSelectionRange();return n.replaceContent(t.data,t.start,t.end,!0),n.createSelection(t.caret,t.caret+i.end-i.start),!0}return!1},detectSyntax:function(t,i){var r=i||"html";return n("resources").hasSyntax(r)||(r="html"),r=="html"&&(this.isStyle(t)||this.isInlineCSS(t))&&(r="css"),r},detectProfile:function(t){var r=t.getSyntax(),i=n("resources").findItem(r,"profile");if(i)return i;switch(r){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(t))return"line";break;case"html":return i=n("resources").getVariable("profile"),i||(i=this.isXHTML(t)?"xhtml":"html"),i}return"xhtml"},isXHTML:function(n){return n.getContent().search(/<!DOCTYPE[^>]+XHTML/i)!=-1},isStyle:function(t){var u=String(t.getContent()),r=t.getCaretPos(),i=n("htmlMatcher").tag(u,r);return i&&i.open.name.toLowerCase()=="style"&&i.innerRange.cmp(r,"lte","gte")},isInlineCSS:function(t){var f=String(t.getContent()),r=t.getCaretPos(),u=n("xmlEditTree").parseFromPosition(f,r,!0),i;return u?(i=u.itemFromPosition(r,!0),i&&i.name().toLowerCase()=="style"&&i.valueRange(!0).cmp(r,"lte","gte")):!1}}}),emmet.define("abbreviationUtils",function(n,t){return{isSnippet:function(t){return n("elements").is(t.matchedResource(),"snippet")},isUnary:function(n){if(n.children.length||n._text||this.isSnippet(n))return!1;var t=n.matchedResource();return t&&t.is_empty},isInline:function(t){return t.isTextNode()||!t.name()||n("tagName").isInlineLevel(t.name())},isBlock:function(n){return this.isSnippet(n)||!this.isInline(n)},isSnippet:function(t){return n("elements").is(t.matchedResource(),"snippet")},hasTagsInContent:function(t){return n("utils").matchesTag(t.content)},hasBlockChildren:function(n){return this.hasTagsInContent(n)&&this.isBlock(n)||t.any(n.children,function(n){return this.isBlock(n)},this)},insertChildContent:function(i,r,u){u=t.extend({keepVariable:!0,appendIfNoChild:!0},u||{});var e=!1,f=n("utils");return i=f.replaceVariables(i,function(n,t,o){var s=n;return t=="child"&&(s=f.padString(r,f.getLinePaddingFromPosition(i,o.start)),e=!0,u.keepVariable&&(s+=n)),s}),!e&&u.appendIfNoChild&&(i+=r),i}}}),emmet.define("base64",function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){for(var l=[],f,e,o,a,v,s,i,y,h,c,r=0,p=t.length,u=n;r<p;)y=t.charCodeAt(r++),h=t.charCodeAt(r++),c=t.charCodeAt(r++),f=y&255,e=h&255,o=c&255,a=f>>2,v=(f&3)<<4|e>>4,s=(e&15)<<2|o>>6,i=o&63,isNaN(h)?s=i=64:isNaN(c)&&(i=64),l.push(u.charAt(a)+u.charAt(v)+u.charAt(s)+u.charAt(i));return l.join("")},decode:function(t){var r,e,h,c,l,o,s,u,i=0,v=0,a=[],f=n,y=t.length;if(!t)return t;t+="";do c=f.indexOf(t.charAt(i++)),l=f.indexOf(t.charAt(i++)),o=f.indexOf(t.charAt(i++)),s=f.indexOf(t.charAt(i++)),u=c<<18|l<<12|o<<6|s,r=u>>16&255,e=u>>8&255,h=u&255,a[v++]=o==64?String.fromCharCode(r):s==64?String.fromCharCode(r,e):String.fromCharCode(r,e,h);while(i<y);return a.join("")}}}),emmet.define("htmlMatcher",function(n,t){function f(t,i){return{name:i[1],selfClose:!!i[3],range:n("range").create(t,i[0]),type:"open"}}function e(t,i){return{name:i[1],range:n("range").create(t,i[0]),type:"close"}}function o(i,r){return{range:n("range").create(i,t.isNumber(r)?r-i:r[0]),type:"comment"}}function s(n){var t={},i;return{open:function(n){var t=this.matches(n);return t&&t.type=="open"?t:null},close:function(n){var t=this.matches(n);return t&&t.type=="close"?t:null},matches:function(o){var s="p"+o,h;return s in t||n.charAt(o)=="<"&&(h=n.slice(o),t[s]=(i=h.match(r))?f(o,i):(i=h.match(u))?e(o,i):!1),t[s]},text:function(){return n}}}function i(n,t,i){return n.substring(t,t+i.length)==i}function h(n,r){for(var f=[],u=null,h=r.text(),o,s,l,e=n.range.end,c=h.length;e<c;e++){if(i(h,e,"<!--"))for(o=e;o<c;o++)if(i(h,o,"-->")){e=o+3;break}if(u=r.matches(e))if(u.type!="open"||u.selfClose){if(u.type=="close"){if(!f.length)return u.name==n.name?u:null;if(t.last(f)==u.name)f.pop();else{for(s=!1;f.length&&!s;)l=f.pop(),l==u.name&&(s=!0);if(!f.length&&!s)return u.name==n.name?u:null}}}else f.push(u.name)}}var r=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,u=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(t,r){for(var y=n("range"),p=s(t),u=null,l=null,w,f,b,a,c,v,e=r;e>=0;e--)if(u=p.open(e)){if(u.selfClose){if(u.range.cmp(r,"lt","gt"))break;continue}if(l=h(u,p),l){if(w=y.create2(u.range.start,l.range.end),w.contains(r))break}else if(u.range.contains(r))break;u=null}else if(i(t,e,"-->")){for(f=e-1;f>=0;f--)if(i(t,f,"-->"))break;else if(i(t,f,"<!--")){e=f;break}}else if(i(t,e,"<!--")){for(f=e+4,b=t.length;f<b;f++)if(i(t,f,"-->")){f+=3;break}u=o(e,f);break}if(u)return a=null,c=null,l?(a=y.create2(u.range.start,l.range.end),c=y.create2(u.range.end,l.range.start)):a=c=y.create2(u.range.start,u.range.end),u.type=="comment"&&(v=a.substring(t),c.start+=v.length-v.replace(/^<\!--\s*/,"").length,c.end-=v.length-v.replace(/\s*-->$/,"").length),{open:u,close:l,type:u.type=="comment"?"comment":"tag",innerRange:c,innerContent:function(){return this.innerRange.substring(t)},outerRange:a,outerContent:function(){return this.outerRange.substring(t)},range:!c.length()||!c.cmp(r,"lte","gte")?a:c,content:function(){return this.range.substring(t)},source:t}},tag:function(n,t){var i=this.find(n,t);if(i&&i.type=="tag")return i}}}),emmet.define("tabStops",function(n,t){var r=100,i=0,u={replaceCarets:!1,escape:function(n){return"\\"+n},tabstop:function(n){return n.token},variable:function(n){return n.token}};return n("abbreviationParser").addOutputProcessor(function(t,r){var u=0,f=n("tabStops"),o=n("utils"),e={tabstop:function(n){var t=parseInt(n.group),r,o;return t==0?"${0}":(t>u&&(u=t),n.placeholder?(r=t+i,o=f.processText(n.placeholder,e),"${"+r+":"+o+"}"):"${"+(t+i)+"}")}};return t=f.processText(t,e),t=o.replaceVariables(t,f.variablesResolver(r)),i+=u+1,t}),{extract:function(i,r){var o=n("utils"),e={carets:""},s=[];r=t.extend({},u,r,{tabstop:function(n){var t=n.token,i="";return n.placeholder=="cursor"?s.push({start:n.start,end:n.start+t.length,group:"carets",value:""}):("placeholder"in n&&(e[n.group]=n.placeholder),n.group in e&&(i=e[n.group]),s.push({start:n.start,end:n.start+t.length,group:n.group,value:i})),t}}),r.replaceCarets&&(i=i.replace(new RegExp(o.escapeForRegexp(o.getCaretPlaceholder()),"g"),"${0:cursor}")),i=this.processText(i,r);var f=o.stringBuilder(),h=0,c=t.map(s,function(n){f.append(i.substring(h,n.start));var t=f.length,r=e[n.group]||"";return f.append(r),h=n.end,{group:n.group,start:t,end:t+r.length}});return f.append(i.substring(h)),{text:f.toString(),tabstops:t.sortBy(c,"start")}},processText:function(i,r){var e,f,c,s,h,o,l;for(r=t.extend({},u,r),e=n("utils").stringBuilder(),f=n("stringStream").create(i);c=f.next();){if(c=="\\"&&!f.eol()){e.append(r.escape(f.next()));continue}h=c,c=="$"&&(f.start=f.pos-1,(s=f.match(/^[0-9]+/))?h=r.tabstop({start:e.length,group:f.current().substr(1),token:f.current()}):(s=f.match(/^\{([a-z_\-][\w\-]*)\}/))?h=r.variable({start:e.length,name:s[1],token:f.current()}):(s=f.match(/^\{([0-9]+)(:.+?)?\}/,!1))&&(f.skipToPair("{","}"),o={start:e.length,group:s[1],token:f.current()},l=o.token.substring(o.group.length+2,o.token.length-1),l&&(o.placeholder=l.substr(1)),h=r.tabstop(o))),e.append(h)}return e.toString()},upgrade:function(n,i){var r=0,u={tabstop:function(n){var t=parseInt(n.group);return t>r&&(r=t),n.placeholder?"${"+(t+i)+":"+n.placeholder+"}":"${"+(t+i)+"}"}};return t.each(["start","end","content"],function(t){n[t]=this.processText(n[t],u)},this),r},variablesResolver:function(i){var u={},f=n("resources");return function(e,o){var s,h;return o=="child"?e:o=="cursor"?n("utils").getCaretPlaceholder():(s=i.attribute(o),!t.isUndefined(s)&&s!==e)?s:(h=f.getVariable(o),h)?h:(u[o]||(u[o]=r++),"${"+u[o]+":"+o+"}")}},resetTabstopIndex:function(){i=0,r=100}}}),emmet.define("preferences",function(n,t){function e(n){return t.isString(n)?(n=n.toLowerCase(),n=="yes"||n=="true"||n=="1"):!!n}function o(n){return t.isObject(n)&&"value"in n&&t.keys(n).length<3}var r={},i={},u=null,f=null;return{define:function(n,r,u){var f=n;t.isString(n)&&(f={},f[n]={value:r,description:u}),t.each(f,function(n,t){i[t]=o(n)?n:{value:n}})},set:function(n,u){var f=n;t.isString(n)&&(f={},f[n]=u),t.each(f,function(n,t){if(!(t in i))throw'Property "'+t+'" is not defined. You should define it first with `define` method of current module';if(n!==i[t].value){switch(typeof i[t].value){case"boolean":n=e(n);break;case"number":n=parseInt(n+"",10)||0;break;default:n!==null&&(n+="")}r[t]=n}else t in r&&delete r[t]})},get:function(n){return n in r?r[n]:n in i?i[n].value:void 0},getArray:function(i){var r=this.get(i);return t.isUndefined(r)||r===null||r===""?null:(r=t.map(r.split(","),n("utils").trim),!r.length)?null:r},getDict:function(n){var i={};return t.each(this.getArray(n),function(n){var t=n.split(":");i[t[0]]=t[1]}),i},description:function(n){if(n in i)return i[n].description},remove:function(n){t.isArray(n)||(n=[n]),t.each(n,function(n){n in r&&delete r[n],n in i&&delete i[n]})},list:function(){return t.map(t.keys(i).sort(),function(n){return{name:n,value:this.get(n),type:typeof i[n].value,description:i[n].description}},this)},load:function(n){t.each(n,function(n,t){this.set(t,n)},this)},exportModified:function(){return t.clone(r)},reset:function(){r={}},_startTest:function(){u=i,f=r,i={},r={}},_stopTest:function(){i=u,r=f}}}),emmet.define("filters",function(n,t){function i(n){return n?t.isString(n)?n.split(/[\|,]/g):n:[]}var r={},u="html";return{add:function(n,t){r[n]=t},apply:function(u,f,e){var o=n("utils");return e=n("profile").get(e),t.each(i(f),function(n){var t=o.trim(n.toLowerCase());t&&t in r&&(u=r[t](u,e))}),u},composeList:function(t,r,f){r=n("profile").get(r);var e=i(r.filters||n("resources").findItem(t,"filters")||u);return r.extraFilters&&(e=e.concat(i(r.extraFilters))),f&&(e=e.concat(i(f))),e&&e.length||(e=i(u)),e},extractFromAbbreviation:function(n){var t="";return n=n.replace(/\|([\w\|\-]+)$/,function(n,i){return t=i,""}),[n,i(t)]}}}),emmet.define("elements",function(n,t){function u(n){return{data:n}}var r={},f=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g,i={add:function(n,t){var i=this;r[n]=function(){var r=t.apply(i,arguments);return r&&(r.type=n),r}},get:function(n){return r[n]},create:function(n){var i=[].slice.call(arguments,1),t=this.get(n);return t?t.apply(this,i):null},is:function(n,t){return n&&n.type===t}};return i.add("element",function(n,i,r){var u={name:n,is_empty:!!r},e;if(i)if(u.attributes=[],t.isArray(i))u.attributes=i;else if(t.isString(i))while(e=f.exec(i))u.attributes.push({name:e[1],value:e[3]});else t.each(i,function(n,t){u.attributes.push({name:t,value:n})});return u}),i.add("snippet",u),i.add("reference",u),i.add("empty",function(){return{}}),i}),emmet.define("editTree",function(n,t,i){function f(n,i){this.options=t.extend({offset:0},i),this.source=n,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function u(n,t,i){this.parent=n,this._name=t.value,this._value=i?i.value:"",this._positions={name:t.start,value:i?i.start:-1},this.initialize.apply(this,arguments)}var r=n("range").create;return f.extend=i.extend,f.prototype={initialize:function(){},_updateSource:function(i,u,f){var e=r(u,t.isUndefined(f)?0:f-u),s=i.length-e.length(),o=function(n){t.each(n,function(t,i){t>=e.end&&(n[i]+=s)})};o(this._positions),t.each(this.list(),function(n){o(n._positions)}),this.source=n("utils").replaceSubstring(this.source,i,e)},add:function(n,t){var i=new u(n,t);return this._children.push(i),i},get:function(n){return t.isNumber(n)?this.list()[n]:t.isString(n)?t.find(this.list(),function(t){return t.name()===n}):n},getAll:function(n){t.isArray(n)||(n=[n]);var i=[],r=[];return t.each(n,function(n){t.isString(n)?i.push(n):t.isNumber(n)&&r.push(n)}),t.filter(this.list(),function(n,u){return t.include(r,u)||t.include(i,n.name())})},value:function(n,i,r){var u=this.get(n);return u?u.value(i):t.isUndefined(i)?void 0:this.add(n,i,r)},values:function(n){return t.map(this.getAll(n),function(n){return n.value()})},remove:function(n){var i=this.get(n);i&&(this._updateSource("",i.fullRange()),this._children=t.without(this._children,i))},list:function(){return this._children},indexOf:function(n){return t.indexOf(this.list(),this.get(n))},name:function(n){return t.isUndefined(n)||this._name===(n=String(n))||(this._updateSource(n,this._positions.name,this._positions.name+this._name.length),this._name=n),this._name},nameRange:function(n){return r(this._positions.name+(n?this.options.offset:0),this.name())},range:function(n){return r(n?this.options.offset:0,this.toString())},itemFromPosition:function(n,i){return t.find(this.list(),function(t){return t.range(i).inside(n)})},toString:function(){return this.source}},u.extend=i.extend,u.prototype={initialize:function(){},_pos:function(n,t){return n+(t?this.parent.options.offset:0)},value:function(n){return t.isUndefined(n)||this._value===(n=String(n))||(this.parent._updateSource(n,this.valueRange()),this._value=n),this._value},name:function(n){return t.isUndefined(n)||this._name===(n=String(n))||(this.parent._updateSource(n,this.nameRange()),this._name=n),this._name},namePosition:function(n){return this._pos(this._positions.name,n)},valuePosition:function(n){return this._pos(this._positions.value,n)},range:function(n){return r(this.namePosition(n),this.toString())},fullRange:function(n){return this.range(n)},nameRange:function(n){return r(this.namePosition(n),this.name())},valueRange:function(n){return r(this.valuePosition(n),this.value())},toString:function(){return this.name()+this.value()},valueOf:function(){return this.toString()}},{EditContainer:f,EditElement:u,createToken:function(n,t,i){var r={start:n||0,value:t||"",type:i};return r.end=r.start+r.value.length,r}}}),emmet.define("cssEditTree",function(n,t){function i(t,i){return n("range").create(t,i)}function f(n,i){i=i||r|u;var f=["white","line"];if((i&u)==u)while(n.length&&t.include(f,t.last(n).type))n.pop();if((i&r)==r)while(n.length&&t.include(f,n[0].type))n.shift();return n}function h(n){for(var r=[],e,u=n.position(),o;e=n.next();){if(e.type=="{")break;r.push(e)}return f(r),r.length?(u=r[0].start,o=t.last(r).end):o=u,i(u,o-u)}function c(n){var c=["white","line",":"],e=[],o,s,h;for(n.nextUntil(function(){return!t.include(c,this.itemNext().type)}),s=n.current().end;o=n.next();){if(o.type=="}"||o.type==";")return f(e,r|(o.type=="}"?u:0)),e.length?(s=e[0].start,h=t.last(e).end):h=s,i(s,h-s);e.push(o)}if(e.length)return i(e[0].start,t.last(e).end-e[0].start)}function e(r){var u=n("stringStream").create(r),f,e=[],s=/[\s\u00a0,]/,o=function(){u.next(),e.push(i(u.start,u.current())),u.start=u.pos};for(u.eatSpace(),u.start=u.pos;f=u.next();)if(f=='"'||f=="'"){if(u.next(),!u.skipTo(f))break;o()}else if(f=="("){if(u.backUp(1),!u.skipToPair("(",")"))break;u.backUp(1),o()}else s.test(f)&&(e.push(i(u.start,u.current().length-1)),u.eatWhile(s),u.start=u.pos);return o(),t.chain(e).filter(function(n){return!!n.length()}).uniq(!1,function(n){return n.toString()}).value()}function l(n){for(var i=n.tokens,t=n._i+1,r=i.length;t<r;t++){if(i[t].type==":")return!0;if(i[t].type=="identifier"||i[t].type=="line")return!1}return!1}var s={styleBefore:"\n\t",styleSeparator:": ",offset:0},r=1,u=2,a=n("editTree").EditContainer.extend({initialize:function(r){var a,f,v,y;t.defaults(this.options,s);var e=n("editTree"),u=n("tokenIterator").create(n("cssParser").parse(r)),p=h(u);if(this._positions.name=p.start,this._name=p.substring(r),!u.current()||u.current().type!="{")throw"Invalid CSS rule";for(this._positions.contentStart=u.position()+1;v=u.next();)v.type=="identifier"&&l(u)&&(a=i(v),f=c(u),y=u.current()&&u.current().type==";"?i(u.current()):i(f.end,0),this._children.push(new o(this,e.createToken(a.start,a.substring(r)),e.createToken(f.start,f.substring(r)),e.createToken(y.start,y.substring(r)))));this._saveStyle()},_saveStyle:function(){var i=this._positions.contentStart,r=this.source,u=n("utils");t.each(this.list(),function(n){n.styleBefore=r.substring(i,n.namePosition());var f=u.splitByLines(n.styleBefore);f.length>1&&(n.styleBefore="\n"+t.last(f)),n.styleSeparator=r.substring(n.nameRange().end,n.valuePosition()),n.styleBefore=t.last(n.styleBefore.split("*/")),n.styleSeparator=n.styleSeparator.replace(/\/\*.*?\*\//g,""),i=n.range().end})},add:function(i,r,u){var c=this.list(),s=this._positions.contentStart,h=t.pick(this.options,"styleBefore","styleSeparator"),l=n("editTree"),f;t.isUndefined(u)&&(u=c.length),f=c[u],f?s=f.fullRange().start:(f=c[u-1])&&(f.end(";"),s=f.range().end),f&&(h=t.pick(f,"styleBefore","styleSeparator"));var a=l.createToken(s+h.styleBefore.length,i),v=l.createToken(a.end+h.styleSeparator.length,r),e=new o(this,a,v,l.createToken(v.end,";"));return t.extend(e,h),this._updateSource(e.styleBefore+e.toString(),s),this._children.splice(u,0,e),e}}),o=n("editTree").EditElement.extend({initialize:function(n,t,i,r){this.styleBefore=n.options.styleBefore,this.styleSeparator=n.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(n){var i=e(this.value()),r;return n&&(r=this.valuePosition(!0),t.each(i,function(n){n.shift(r)})),i},end:function(n){return t.isUndefined(n)||this._end===n||(this.parent._updateSource(n,this._positions.end,this._positions.end+this._end.length),this._end=n),this._end},fullRange:function(n){var t=this.range(n);return t.start-=this.styleBefore.length,t},toString:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(n,t){return new a(n,t)},parseFromPosition:function(n,t,i){var r=this.extractRule(n,t,i);return!r||!r.inside(t)?null:this.parse(r.substring(n),{offset:r.start})},extractRule:function(t,i,r){for(var s="",h=t.length,u=i,e=-1,f,o;u>=0;){if(f=t.charAt(u),f=="{"){e=u;break}else if(f=="}"&&!r){u++;break}u--}while(u<h){if(f=t.charAt(u),f=="{")e=u;else if(f=="}"){e!=-1&&(s=t.substring(e,u+1));break}u++}if(s){for(u=e-1,o="";u>=0;){if(f=t.charAt(u),"{}/\\<>\n\r".indexOf(f)!=-1)break;u--}return o=t.substring(u+1,e).replace(/^[\s\n\r]+/m,""),n("range").create(e-o.length,s.length+o.length)}return null},baseName:function(n){return n.replace(/^\s*\-\w+\-/,"")},findParts:e}}),emmet.define("xmlEditTree",function(n,t){var r={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},u=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,f=n("editTree").EditContainer.extend({initialize:function(u){t.defaults(this.options,r),this._positions.name=1;var f=null,e=n("xmlParser").parse(u),o=n("range");t.each(e,function(n){n.value=o.create(n).substring(u);switch(n.type){case"tag":/^<[^\/]+/.test(n.value)&&(this._name=n.value.substring(1));break;case"attribute":f&&this._children.push(new i(this,f)),f=n;break;case"string":this._children.push(new i(this,f,n)),f=null}},this),f&&this._children.push(new i(this,f)),this._saveStyle()},_saveStyle:function(){var n=this.nameRange().end,i=this.source;t.each(this.list(),function(t){t.styleBefore=i.substring(n,t.namePosition()),t.valuePosition()!==-1&&(t.styleSeparator=i.substring(t.namePosition()+t.name().length,t.valuePosition()-t.styleQuote.length)),n=t.range().end})},add:function(r,u,f){var c=this.list(),h=this.nameRange().end,l=n("editTree"),e=t.pick(this.options,"styleBefore","styleSeparator","styleQuote"),o,s;return t.isUndefined(f)&&(f=c.length),o=c[f],o?h=o.fullRange().start:(o=c[f-1])&&(h=o.range().end),o&&(e=t.pick(o,"styleBefore","styleSeparator","styleQuote")),u=e.styleQuote+u+e.styleQuote,s=new i(this,l.createToken(h+e.styleBefore.length,r),l.createToken(h+e.styleBefore.length+r.length+e.styleSeparator.length,u)),t.extend(s,e),this._updateSource(s.styleBefore+s.toString(),h),this._children.splice(f,0,s),s}}),i=n("editTree").EditElement.extend({initialize:function(n,t,i){this.styleBefore=n.options.styleBefore,this.styleSeparator=n.options.styleSeparator;var r="",u=n.options.styleQuote;i&&(r=i.value,u=r.charAt(0),u=='"'||u=="'"?r=r.substring(1):u="",u&&r.charAt(r.length-1)==u&&(r=r.substring(0,r.length-1))),this.styleQuote=u,this._value=r,this._positions.value=i?i.start+u.length:-1},fullRange:function(n){var t=this.range(n);return t.start-=this.styleBefore.length,t},toString:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(n,t){return new f(n,t)},parseFromPosition:function(n,t,i){var r=this.extractTag(n,t,i);return!r||!r.inside(t)?null:this.parse(r.substring(n),{offset:r.start})},extractTag:function(t,i,r){for(var o=t.length,h=n("range"),c=Math.min(2e3,o),e=null,s=function(n){var i;if(t.charAt(n)=="<"&&(i=t.substr(n,c).match(u)))return h.create(n,i[0])},f=i;f>=0;f--)if(e=s(f))break;if(e&&(e.inside(i)||r))return e;if(!e&&r)return null;for(f=i;f<o;f++)if(e=s(f))return e}}}),emmet.define("expandAbbreviation",function(n,t){var i=n("handlerList").create(),u=null,r=n("actions");return r.add("expand_abbreviation",function(r,u,f){var e=t.toArray(arguments),o=n("editorUtils").outputInfo(r,u,f);return e[1]=o.syntax,e[2]=o.profile,i.exec(!1,e)}),r.add("expand_abbreviation_with_tab",function(t,i,u){var o=t.getSelection(),e=n("resources").getVariable("indentation"),f;if(o){var h=n("utils"),c=n("range").create(t.getSelectionRange()),s=h.padString(o,e);return t.replaceContent(e+"${0}",t.getCaretPos()),f=n("range").create(t.getCaretPos(),c.length()),t.replaceContent(s,f.start,f.end,!0),t.createSelection(f.start,f.start+s.length),!0}return r.run("expand_abbreviation",t,i,u)||t.replaceContent(e,t.getCaretPos()),!0},{hidden:!0}),i.add(function(t,i,r){var o=t.getSelectionRange().end,f=u.findAbbreviation(t),e;return f&&(e=emmet.expandAbbreviation(f,i,r,n("actionUtils").captureContext(t)),e)?(t.replaceContent(e,o-f.length,o),!0):!1},{order:-1}),u={addHandler:function(n,t){i.add(n,t)},removeHandler:function(n){i.remove(n,options)},findAbbreviation:function(t){var i=n("range").create(t.getSelectionRange()),r=String(t.getContent()),u;return i.length()?i.substring(r):(u=t.getCurrentLineRange(),n("actionUtils").extractAbbreviation(r.substring(u.start,i.start)))}}}),emmet.define("wrapWithAbbreviation",function(n){var t=null;return n("actions").add("wrap_with_abbreviation",function(i,r,u,f){var o=n("editorUtils").outputInfo(i,u,f),c=n("utils"),a=n("editorUtils"),e,s,l,h;if(r=r||i.prompt("Enter abbreviation"),!r)return null;if(r=String(r),e=n("range").create(i.getSelectionRange()),!e.length()){if(s=n("htmlMatcher").tag(o.content,e.start),!s)return!1;e=c.narrowToNonSpace(o.content,s.range)}return(l=c.escapeText(e.substring(o.content)),h=t.wrap(r,a.unindent(i,l),o.syntax,o.profile,n("actionUtils").captureContext(i)),h)?(i.replaceContent(h,e.start,e.end),!0):!1}),t={wrap:function(t,i,r,u,f){var o=n("filters"),c=n("utils"),s,e,h;return(r=r||emmet.defaultSyntax(),u=n("profile").get(u,r),n("tabStops").resetTabstopIndex(),s=o.extractFromAbbreviation(t),e=n("abbreviationParser").parse(s[0],{syntax:r,pastedContent:i,contextNode:f}),e)?(h=o.composeList(r,u,s[1]),o.apply(e,h,u),c.replaceVariables(e.toString())):null}}}),emmet.exec(function(n,t){function r(t){var r=n("range").create(t.getSelectionRange()),f=n("editorUtils").outputInfo(t),u;return r.length()||(u=n("htmlMatcher").tag(f.content,t.getCaretPos()),u&&(r=u.outerRange)),i(t,"<!--","-->",r)}function u(t){var r=n("range").create(t.getSelectionRange()),o=n("editorUtils").outputInfo(t),u,e;return r.length()||(u=n("cssEditTree").parseFromPosition(o.content,t.getCaretPos()),u&&(e=f(u,t.getCaretPos()),r=e?e.range(!0):n("range").create(u.nameRange(!0).start,u.source))),r.length()||(r=n("range").create(t.getCurrentLineRange()),n("utils").narrowToNonSpace(o.content,r)),i(t,"/*","*/",r)}function f(n,i){var r=i-(n.options.offset||0),u=/^[\s\n\r]/;return t.find(n.list(),function(t){return t.range().end===r?u.test(n.source.charAt(r)):t.range().inside(r)})}function e(t,i,r,u){for(var f=-1,e=-1,o=function(n,i){return t.substr(i,n.length)==n},s;i--;)if(o(r,i)){f=i;break}if(f!=-1)for(i=f,s=t.length;s>=i++;)if(o(u,i)){e=i+u.length;break}return f!=-1&&e!=-1?n("range").create(f,e-f):null}function i(t,i,r,u){function a(n){return n.replace(new RegExp("^"+o.escapeForRegexp(i)+"\\s*"),function(n){return s-=n.length,""}).replace(new RegExp("\\s*"+o.escapeForRegexp(r)+"$"),"")}var l=n("editorUtils"),h=l.outputInfo(t).content,s=t.getCaretPos(),f=null,o=n("utils"),c=e(h,s,i,r);return(c&&c.overlap(u)?(u=c,f=a(u.substring(h))):(f=i+" "+u.substring(h).replace(new RegExp(o.escapeForRegexp(i)+"\\s*|\\s*"+o.escapeForRegexp(r),"g"),"")+" "+r,s+=i.length+1),f!==null)?(f=o.escapeText(f),t.setCaretPos(u.start),t.replaceContent(l.unindent(t,f),u.start,u.end),t.setCaretPos(s),!0):!1}n("actions").add("toggle_comment",function(t){var i=n("editorUtils").outputInfo(t),f,e;return(i.syntax=="css"&&(f=t.getCaretPos(),e=n("htmlMatcher").tag(i.content,f),e&&e.open.range.inside(f)&&(i.syntax="html")),i.syntax=="css")?u(t):r(t)})}),emmet.exec(function(n){function t(n,t,i){function h(n){for(var t=n,i;t>=0;){if(i=u.charAt(t),i=="\n"||i=="\r")break;t--}return u.substring(t,n)}t=t||1,i=i||0;for(var r=n.getCaretPos()+i,u=String(n.getContent()),s=u.length,f=-1;r<=s&&r>=0;){r+=t;var e=u.charAt(r),o=u.charAt(r+1),c=u.charAt(r-1);switch(e){case'"':case"'":o==e&&c=="="&&(f=r+1);break;case">":o=="<"&&(f=r+1);break;case"\n":case"\r":/^\s+$/.test(h(r-1))&&(f=r)}if(f!=-1)break}return f}var i=n("actions");i.add("prev_edit_point",function(n){var r=n.getCaretPos(),i=t(n,-1);return(i==r&&(i=t(n,-1,-2)),i!=-1)?(n.setCaretPos(i),!0):!1},{label:"Previous Edit Point"}),i.add("next_edit_point",function(n){var i=t(n,1);return i!=-1?(n.setCaretPos(i),!0):!1})}),emmet.exec(function(n,t){function i(t,i,r,u){for(var h=n("range"),s=n("editorUtils").outputInfo(t).content,a=s.length,f,o,c=h.create(-1,0),l=h.create(t.getSelectionRange()),e=l.start,v=1e5;e>=0&&e<a&&--v>0;){if(f=r(s,e,i)){if(c.equal(f))break;if(c=f.clone(),o=u(f.substring(s),f.start,l.clone()),o)return t.createSelection(o.start,o.end),!0;e=i?f.start:f.end-1}e+=i?-1:1}return!1}function h(n){var t=!0;return i(n,!1,function(n,i){return t?(t=!1,v(n,i)):r(n,i)},function(n,t,i){return u(n,t,i,!1)})}function c(n){return i(n,!0,r,function(n,t,i){return u(n,t,i,!0)})}function l(i,r,u){u=u||0;var h=n("range"),e=[],c=-1,l="",s="",o,v;return t.each(r,function(n){switch(n.type){case"tag":v=i.substring(n.start,n.end),/^<[\w\:\-]/.test(v)&&e.push(h.create({start:n.start+1,end:n.end}));break;case"attribute":c=n.start,l=i.substring(n.start,n.end);break;case"string":e.push(h.create(c,n.end-c)),o=h.create(n),s=o.substring(i),f(s.charAt(0))&&o.start++,f(s.charAt(s.length-1))&&o.end--,e.push(o),l=="class"&&(e=e.concat(a(o.substring(i),o.start)))}}),t.each(e,function(n){n.shift(u)}),t.chain(e).filter(function(n){return!!n.length()}).uniq(!1,function(n){return n.toString()}).value()}function a(t,i){var e;i=i||0;var u=[],r=n("stringStream").create(t),f=n("range");for(r.eatSpace(),r.start=r.pos;e=r.next();)/[\s\u00a0]/.test(e)&&(u.push(f.create(r.start+i,r.pos-r.start-1)),r.eatSpace(),r.start=r.pos);return u.push(f.create(r.start+i,r.pos-r.start)),u}function u(i,r,u,f){var e=l(i,n("xmlParser").parse(i),r),o,s,h;return(f&&e.reverse(),o=t.find(e,function(n){return n.equal(u)}),o)?(s=t.indexOf(e,o),s<e.length-1)?e[s+1]:null:f?t.find(e,function(n){return n.start<u.start}):!o&&(h=t.filter(e,function(n){return n.inside(u.end)}),h.length>1)?h[1]:t.find(e,function(n){return n.end>u.end})}function v(n,t){for(var i;t>=0;){if(i=r(n,t))return i;t--}return null}function r(t,i){var r;if(t.charAt(i)=="<"&&(r=t.substring(i,t.length).match(s)))return n("range").create(i,r[0])}function f(n){return n=='"'||n=="'"}function y(i){var u=i.valueRange(!0),r=[i.range(!0),u],e=n("stringStream"),o=n("cssEditTree"),f=n("range"),s=i.value();return t.each(i.valueParts(),function(n){var c=n.clone(),i,h;r.push(c.shift(u.start)),i=e.create(n.substring(s)),i.match(/^[\w\-]+\(/,!0)&&(i.start=i.pos,i.skipToPair("(",")"),h=i.current(),r.push(f.create(c.start+i.start,h)),t.each(o.findParts(h),function(n){r.push(f.create(c.start+i.start+n.start,n.substring(h)))}))}),t.chain(r).filter(function(n){return!!n.length()}).uniq(!1,function(n){return n.toString()}).value()}function e(n,i,r){var e=null,u,f=null,o,l=n.list(),s,h,c;for(r?(l.reverse(),s=function(n){return n.range(!0).start<=i.start},h=function(n){return n.start<i.start}):(s=function(n){return n.range(!0).end>=i.end},h=function(n){return n.end>i.start});e=t.find(l,s);){if(u=y(e),r&&u.reverse(),f=t.find(u,function(n){return n.equal(i)}),f){if(o=t.indexOf(u,f),o!=u.length-1){f=u[o+1];break}}else{if(c=t.filter(u,function(n){return n.inside(i.end)}),c.length>1){f=c[1];break}if(f=t.find(u,h))break}f=null,i.start=i.end=r?e.range(!0).start-1:e.range(!0).end+1}return f}function p(t){return i(t,!1,n("cssEditTree").extractRule,b)}function w(t){return i(t,!0,n("cssEditTree").extractRule,k)}function b(t,i,r){var u=n("cssEditTree").parse(t,{offset:i}),f=u.nameRange(!0);return r.end<f.end?f:e(u,r,!1)}function k(t,i,r){var f=n("cssEditTree").parse(t,{offset:i}),o=e(f,r,!0),u;return!o&&(u=f.nameRange(!0),r.start>u.start)?u:o}var s=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,o=n("actions");o.add("select_next_item",function(n){return n.getSyntax()=="css"?p(n):h(n)}),o.add("select_previous_item",function(n){return n.getSyntax()=="css"?w(n):c(n)})}),emmet.exec(function(n){function u(i,u){var o;u=String((u||"out").toLowerCase());var s=n("editorUtils").outputInfo(i),h=n("range"),f=h.create(i.getSelectionRange()),e=s.content;if(t&&!t.range.equal(f)&&(t=null),t&&f.length())if(u=="in")if(t.type!="tag"||t.close)t.range.equal(t.outerRange)?t.range=t.innerRange:(o=n("utils").narrowToNonSpace(e,t.innerRange),t=r.find(e,o.start+1),t&&t.range.equal(f)&&t.outerRange.equal(f)&&(t.range=t.innerRange));else return!1;else!t.innerRange.equal(t.outerRange)&&t.range.equal(t.innerRange)&&f.equal(t.range)?t.range=t.outerRange:(t=r.find(e,f.start),t&&t.range.equal(f)&&t.innerRange.equal(f)&&(t.range=t.outerRange));else t=r.find(e,f.start);return t&&!t.range.equal(f)?(i.createSelection(t.range.start,t.range.end),!0):(t=null,!1)}var i=n("actions"),r=n("htmlMatcher"),t=null;i.add("match_pair",u,{hidden:!0}),i.add("match_pair_inward",function(n){return u(n,"in")},{label:"HTML/Match Pair Tag (inward)"}),i.add("match_pair_outward",function(n){return u(n,"out")},{label:"HTML/Match Pair Tag (outward)"}),i.add("matching_pair",function(n){var u=String(n.getContent()),i=n.getCaretPos(),t;return(u.charAt(i)=="<"&&i++,t=r.tag(u,i),t&&t.close)?(t.open.range.inside(i)?n.setCaretPos(t.close.range.start):n.setCaretPos(t.open.range.start),!0):!1},{label:"HTML/Go To Matching Tag Pair"})}),emmet.exec(function(n){n("actions").add("remove_tag",function(t){var i=n("utils"),u=n("editorUtils").outputInfo(t),r=n("htmlMatcher").tag(u.content,t.getCaretPos());if(r){if(r.close){var e=i.narrowToNonSpace(u.content,r.innerRange),o=i.findNewlineBounds(u.content,e.start),s=i.getLinePadding(o.substring(u.content)),f=e.substring(u.content);f=i.unindentString(f,s),t.replaceContent(i.getCaretPlaceholder()+i.escapeText(f),r.outerRange.start,r.outerRange.end)}else t.replaceContent(i.getCaretPlaceholder(),r.range.start,r.range.end);return!0}return!1},{label:"HTML/Remove Tag"})}),emmet.exec(function(n){function t(t,i,r){var e=n("utils"),o=i.selfClosing()||" /",u=r.open.range.substring(r.source).replace(/\s*>$/,o+">"),f=t.getCaretPos();return u.length+r.outerRange.start<f&&(f=u.length+r.outerRange.start),u=e.escapeText(u),t.replaceContent(u,r.outerRange.start,r.outerRange.end),t.setCaretPos(f),!0}function i(t,i,r){var f=n("utils"),e=f.getNewline(),s=n("resources").getVariable("indentation"),o=t.getCaretPos(),h=i.tag_nl===!0?e+s+e:"",u=r.outerContent().replace(/\s*\/>$/,">");return o=r.outerRange.start+u.length,u+=h+"<\/"+r.open.name+">",u=f.escapeText(u),t.replaceContent(u,r.outerRange.start,r.outerRange.end),t.setCaretPos(o),!0}n("actions").add("split_join_tag",function(r,u){var s=n("htmlMatcher"),e=n("editorUtils").outputInfo(r,null,u),o=n("profile").get(e.profile),f=s.tag(e.content,r.getCaretPos());return f?f.close?t(r,o,f):i(r,o,f):!1},{label:"HTML/Split\\Join Tag Declaration"})}),emmet.define("reflectCSSValue",function(n,t){function r(t){var s=n("cssEditTree"),h=n("editorUtils").outputInfo(t),e=t.getCaretPos(),r=s.parseFromPosition(h.content,e),u;if(r&&(u=r.itemFromPosition(e,!0),u)){var o=r.source,f=r.options.offset,c=e-f-u.range().start;return i.exec(!1,[u]),o!==r.source?{data:r.source,start:f,end:f+o.length,caret:f+u.range().start+c}:void 0}}function u(t){t=n("cssEditTree").baseName(t);var r="^(?:\\-\\w+\\-)?",i;return t=="opacity"||t=="filter"?new RegExp(r+"(?:opacity|filter)$"):(i=t.match(/^border-radius-(top|bottom)(left|right)/))?new RegExp(r+"(?:"+t+"|border-"+i[1]+"-"+i[2]+"-radius)$"):(i=t.match(/^border-(top|bottom)-(left|right)-radius/))?new RegExp(r+"(?:"+t+"|border-radius-"+i[1]+i[2]+")$"):new RegExp(r+t+"$")}function f(n,t){var i=e(n.name(),n.value(),t.name(),t.value());t.value(i)}function e(t,i,r,u){var e=n("cssEditTree"),o=n("utils"),f;return(t=e.baseName(t),r=e.baseName(r),t=="opacity"&&r=="filter")?u.replace(/opacity=[^)]*/i,"opacity="+Math.floor(parseFloat(i)*100)):t=="filter"&&r=="opacity"?(f=i.match(/opacity=([^)]*)/i),f?o.prettifyNumber(parseInt(f[1])/100):u):i}var i=n("handlerList").create();return n("actions").add("reflect_css_value",function(t){return t.getSyntax()!="css"?!1:n("actionUtils").compoundUpdate(t,r(t))},{label:"CSS/Reflect Value"}),i.add(function(n){var i=u(n.name());t.each(n.parent.list(),function(t){i.test(t.name())&&f(n,t)})},{order:-1}),{addHandler:function(n,t){i.add(n,t)},removeHandler:function(n){i.remove(n,options)}}}),emmet.exec(function(n){n("actions").add("evaluate_math_expression",function(t){var e=n("actionUtils"),f=n("utils"),o=String(t.getContent()),s=".+-*/\\",i=n("range").create(t.getSelectionRange()),r,u;if(i.length()||(i=e.findExpressionBounds(t,function(n){return f.isNumeric(n)||s.indexOf(n)!=-1})),i&&i.length()){r=i.substring(o),r=r.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{return u=f.prettifyNumber(new Function("return "+r)()),t.replaceContent(u,i.start,i.end),t.setCaretPos(i.start+u.length),!0}catch(h){}}return!1},{label:"Numbers/Evaluate Math Expression"})}),emmet.exec(function(n,t){function i(i,u){var o=n("utils"),v=n("actionUtils"),l=!1,a=!1,e=v.findExpressionBounds(i,function(n,t,i){return o.isNumeric(n)?!0:n=="."?o.isNumeric(i.charAt(t+1))?a?!1:a=!0:!1:n=="-"?l?!1:l=!0:!1}),s,f,c,h;return e&&e.length()&&(s=e.substring(String(i.getContent())),f=parseFloat(s),!t.isNaN(f))?(f=o.prettifyNumber(f+u),/^(\-?)0+[1-9]/.test(s)&&(c="",RegExp.$1&&(c="-",f=f.substring(1)),h=f.split("."),h[0]=o.zeroPadString(h[0],r(s)),f=c+h.join(".")),i.replaceContent(f,e.start,e.end),i.createSelection(e.start,e.start+f.length),!0):!1}function r(n){return(n=n.replace(/^\-/,""),~n.indexOf("."))?n.split(".")[0].length:n.length}var u=n("actions");t.each([1,-1,10,-10,.1,-.1],function(n){var t=n>0?"increment":"decrement";u.add(t+"_number_by_"+String(Math.abs(n)).replace(".","").substring(0,2),function(t){return i(t,n)},{label:"Numbers/"+t.charAt(0).toUpperCase()+t.substring(1)+" number by "+Math.abs(n)})})}),emmet.exec(function(n,t){var i=n("actions"),r=n("preferences");r.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t<\/code> in this preference."),i.add("insert_formatted_line_break_only",function(i){var h=n("utils"),p=n("resources"),e=n("editorUtils").outputInfo(i),u=i.getCaretPos(),c=h.getNewline(),o,l,f,s,w,y,b;if(t.include(["html","xml","xsl"],e.syntax)){if(o=p.getVariable("indentation"),l=n("htmlMatcher").tag(e.content,u),l&&!l.innerRange.length())return i.replaceContent(c+o+h.getCaretPlaceholder()+c,u),!0}else if(e.syntax=="css"&&(f=e.content,u&&f.charAt(u-1)=="{")){var a=r.get("css.closeBraceIndentation"),o=p.getVariable("indentation"),v=f.charAt(u)=="}";if(!v)for(s=u,w=f.length;s<w;s++){if(y=f.charAt(s),y=="{")break;if(y=="}"){a="",v=!0;break}}return v||(a+="}"),b=c+o+h.getCaretPlaceholder()+a,i.replaceContent(b,u),!0}return!1},{hidden:!0}),i.add("insert_formatted_line_break",function(t){var r,u;if(!i.run("insert_formatted_line_break_only",t)){var h=n("utils"),c=n("editorUtils").getCurrentLinePadding(t),o=String(t.getContent()),f=t.getCaretPos(),l=o.length,s=h.getNewline(),a=t.getCurrentLineRange(),e="";for(r=a.end+1;r<l;r++)if(u=o.charAt(r),u==" "||u=="\t")e+=u;else break;e.length>c.length?t.replaceContent(s+e,f,f,!0):t.replaceContent(s,f)}return!0},{hidden:!0})}),emmet.exec(function(n){n("actions").add("merge_lines",function(t){var c=n("htmlMatcher"),o=n("utils"),l=n("editorUtils"),s=l.outputInfo(t),i=n("range").create(t.getSelectionRange()),e,r,u,f,h;if(i.length()||(e=c.find(s.content,t.getCaretPos()),e&&(i=e.outerRange)),i.length()){for(r=i.substring(s.content),u=o.splitByLines(r),f=1;f<u.length;f++)u[f]=u[f].replace(/^\s+/,"");return r=u.join("").replace(/\s{2,}/," "),h=r.length,r=o.escapeText(r),t.replaceContent(r,i.start,i.end),t.createSelection(i.start,i.start+h),!0}return!1})}),emmet.exec(function(n){function t(n,t,i){return i=i||0,t.charAt(i)==n.charAt(0)&&t.substr(i,n.length)==n}function i(t,i,r){var f=n("file"),o=n("actionUtils"),e=t.getFilePath(),s="application/octet-stream",u;if(e===null)throw"You should save your file before using this action";if(u=f.locateFile(e,i),u===null)throw"Can't find "+i+" file";return f.read(u,function(e,h){if(e)throw"Unable to read "+u+": "+e;var c=n("base64").encode(String(h));if(!c)throw"Can't encode file content to base64";c="data:"+(o.mimeTypes[String(f.getExt(u))]||s)+";base64,"+c,t.replaceContent("$0"+c,r,r+i.length)}),!0}function r(t,i,r){var u=String(t.prompt("Enter path to file (absolute or relative)")),f,e;if(!u)return!1;if(f=n("file"),e=f.createPath(t.getFilePath(),u),!e)throw"Can't save file";return f.save(e,n("base64").decode(i.replace(/^data\:.+?;.+?,/,""))),t.replaceContent("$0"+u,r,r+i.length),!0}n("actions").add("encode_decode_data_url",function(n){var f=String(n.getSelection()),u=n.getCaretPos(),o,e;if(!f)for(o=String(n.getContent());u-->=0;)if(t("src=",o,u)){(e=o.substr(u).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(f=e[3],u+=e[1].length);break}else if(t("url(",o,u)){(e=o.substr(u).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(f=e[3],u+=e[1].length);break}return f?t("data:",f)?r(n,f,u):i(n,f,u):!1},{label:"Encode\\Decode data:URL image"})}),emmet.exec(function(n,t){function r(r){var f=r.getCaretPos(),e=n("editorUtils").outputInfo(r),u=n("xmlEditTree").parseFromPosition(e.content,f,!0);u&&(u.name()||"").toLowerCase()=="img"&&i(r,u.value("src"),function(i){if(i){var e=u.range(!0);u.value("width",i.width),u.value("height",i.height,u.indexOf("width")+1),n("actionUtils").compoundUpdate(r,t.extend(e,{data:u.toString(),caret:f}))}})}function u(r){var f=r.getCaretPos(),s=n("editorUtils").outputInfo(r),u=n("cssEditTree").parseFromPosition(s.content,f,!0),e,o;u&&(e=u.itemFromPosition(f,!0),e&&(o=/url\((["']?)(.+?)\1\)/i.exec(e.value()||""))&&i(r,o[2],function(i){if(i){var e=u.range(!0);u.value("width",i.width+"px"),u.value("height",i.height+"px",u.indexOf("width")+1),n("actionUtils").compoundUpdate(r,t.extend(e,{data:u.toString(),caret:f}))}}))}function i(t,i,r){var e,o=n("actionUtils"),f,u;if(i){if(/^data:/.test(i))return e=n("base64").decode(i.replace(/^data\:.+?;.+?,/,"")),r(o.getImageSize(e));if(f=n("file"),u=f.locateFile(t.getFilePath(),i),u===null)throw"Can't find "+i+" file";f.read(u,function(n,t){if(n)throw"Unable to read "+u+": "+n;t=String(t),r(o.getImageSize(t))})}}n("actions").add("update_image_size",function(n){return t.include(["css","less","scss"],String(n.getSyntax()))?u(n):r(n),!0})}),emmet.define("cssResolver",function(n,t){function e(n){var t=n&&n.charCodeAt(0);return n&&n=="."||t>47&&t<58}function v(t){var i=n("utils");return(t=i.trim(t),~t.indexOf("/*")||/[\n\r]/.test(t))?!1:/^[a-z0-9\-]+\s*\:/i.test(t)?(t=n("tabStops").processText(t,{replaceCarets:!0,tabstop:function(){return"value"}}),t.split(":").length==2):!1}function d(n){return(n.charAt(0)!="-"||/^\-[\.\d]/.test(n)||(n=n.replace(/^\-+/,"")),n.charAt(0)=="#")?g(n):y(n)}function g(t){var r=t.replace(/^#+/,"")||"0",e,u,f;if(r.toLowerCase()=="t")return"transparent";e=n("utils").repeatString,u=null;switch(r.length){case 1:u=e(r,6);break;case 2:u=e(r,3);break;case 3:u=r.charAt(0)+r.charAt(0)+r.charAt(1)+r.charAt(1)+r.charAt(2)+r.charAt(2);break;case 4:u=r+r.substr(0,2);break;case 5:u=r+r.charAt(0);break;default:u=r.substr(0,6)}i.get("css.color.short")&&(f=u.split(""),f[0]==f[1]&&f[2]==f[3]&&f[4]==f[5]&&(u=f[0]+f[2]+f[4]));switch(i.get("css.color.case")){case"upper":u=u.toUpperCase();break;case"lower":u=u.toLowerCase()}return"#"+u}function y(n){var t=i.getDict("css.keywordAliases");return n in t?t[n]:n}function nt(n){var t=i.getDict("css.unitAliases");return n in t?t[n]:n}function p(n){return t.include(i.getArray("css.keywords"),y(n))}function o(n,i){var u=r[i];return u||(u=t.find(r,function(n){return n.prefix==i})),u&&u.supports(n)}function tt(n,i){var u=[];return t.each(r,function(t,i){o(n,i)&&u.push(i)}),u.length||i||t.each(r,function(n,t){n.obsolete||u.push(t)}),u}function u(n,i){t.isString(i)&&(i={prefix:i}),r[n]=t.extend({},w,i)}function s(n,r){if(r){var u=i.get(r+"."+n);if(!t.isUndefined(u))return u}return i.get("css."+n)}function it(t,i){var r=t.indexOf(":");return t=t.substring(0,r).replace(/\s+$/,"")+s("valueSeparator",i)+n("utils").trim(t.substring(r+1)),t.replace(/\s*;\s*$/,s("propertyEnd",i))}function f(n,i,r){return(t.isString(n)||(n=n.data),!v(n))?n:(i&&(~n.indexOf(";")?n=n.split(";").join(" !important;"):n+=" !important"),it(n,r))}function rt(n){var r=i.getArray(n);return t.each(i.getArray(n+"Addon"),function(n){n.charAt(0)=="-"?r=t.without(r,n.substr(1)):(n.charAt(0)=="+"&&(n=n.substr(1)),r.push(n))}),r}var l=null,w={prefix:"emmet",obsolete:!1,transformName:function(n){return"-"+this.prefix+"-"+n},properties:function(){return rt("css."+this.prefix+"Properties")||[]},supports:function(n){return t.include(this.properties(),n)}},r={},a="${1};",i=n("preferences"),h,c;i.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),i.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),i.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),i.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),i.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),i.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh<\/code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you.");var b=t.template("A comma-separated list of CSS properties that may have "+"<code><%= vendor %><\/code> vendor prefix. This list is used to generate "+"a list of prefixed properties when expanding <code>-property<\/code> abbreviations. Empty list means that all possible CSS values may "+"have <code><%= vendor %><\/code> prefix."),k=t.template("A comma-separated list of <em>additional<\/em> CSS properties "+"for <code>css.<%= vendor %>Preperties<\/code> preference. "+"You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo<\/em> property and remove <em>border-radius<\/em> one, the preference value will look like this: <code>foo, -border-radius<\/code>.");return t.each({webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, word-wrap, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"},function(n,t){i.define("css."+t+"Properties",n,b({vendor:t})),i.define("css."+t+"PropertiesAddon","",k({vendor:t}))}),i.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),i.define("css.intUnit","px","Default unit for integer values"),i.define("css.floatUnit","em","Default unit for float values"),i.define("css.keywords","auto, inherit","A comma-separated list of valid keywords that can be used in CSS abbreviations."),i.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name<\/code>."),i.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value<\/code>."),i.define("css.color.short",!0,"Should color values like <code>#ffffff<\/code> be shortened to <code>#fff<\/code> after abbreviation with color was expanded."),i.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0<\/code>). Possible values are <code>upper<\/code>, <code>lower<\/code> and <code>keep<\/code>."),i.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown<\/em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h<\/code> == <code>ov-h<\/code> == <code>o-h<\/code> == <code>oh<\/code>"),i.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),i.define("css.alignVendor",!1,"If set to <code>true<\/code>, all generated vendor-prefixed properties will be aligned by real property name."),u("w",{prefix:"webkit"}),u("m",{prefix:"moz"}),u("s",{prefix:"ms"}),u("o",{prefix:"o"}),h=["css","less","sass","scss","stylus"],n("resources").addResolver(function(n,i){return t.include(h,i)&&n.isElement()?l.expandToSnippet(n.abbreviation,i):null}),c=n("expandAbbreviation"),c.addHandler(function(n,i,r){var f,e,u,s,o;return t.include(h,i)?(f=n.getSelectionRange().end,e=c.findAbbreviation(n),e&&(u=emmet.expandAbbreviation(e,i,r),u))?(s=f-e.length,o=f,n.getContent().charAt(f)==";"&&u.charAt(u.length-1)==";"&&o++,n.replaceContent(u,s,o),!0):!1:!1}),l={addPrefix:u,supportsPrefix:o,prefixed:function(n,t){return o(n,t)?"-"+t+"-"+n:n},listPrefixes:function(){return t.map(r,function(n){return n.prefix})},getPrefix:function(n){return r[n]},removePrefix:function(n){n in r&&delete r[n]},extractPrefixes:function(n){if(n.charAt(0)!="-")return{property:n,prefixes:null};for(var t=1,f=n.length,u,i=[];t<f;){if(u=n.charAt(t),u=="-"){t++;break}if(u in r)i.push(u);else{i.length=0,t=1;break}t++}return t==f-1&&(t=1,i.length=1),{property:n.substring(t),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(t,i){var s,h;i=i||"css";for(var r=0,l=t.length,o="",u;r<l;){if(u=t.charAt(r),e(u)||u=="#"||u=="-"&&e(t.charAt(r+1))){o=t.substring(r);break}r++}for(var f=t.substring(0,t.length-o.length),a=n("resources"),c=[];~f.indexOf("-")&&!a.findSnippet(i,f);){if(s=f.split("-"),h=s.pop(),!p(h))break;c.unshift(h),f=s.join("-")}return c.join("-")+o},parseValues:function(i){for(var r=n("stringStream").create(i),u=[],f=null;f=r.next();)f=="#"?(r.match(/^t|[0-9a-f]+/i,!0),u.push(r.current())):f=="-"?((p(t.last(u))||r.start&&e(i.charAt(r.start-1)))&&(r.start=r.pos),r.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),u.push(r.current())):(r.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),u.push(r.current())),r.start=r.pos;return t.map(t.compact(u),d)},extractValues:function(n){var t=this.findValuesInAbbreviation(n);return t?{property:n.substring(0,n.length-t.length).replace(/-$/,""),values:this.parseValues(t)}:{property:n,values:null}},normalizeValue:function(n,r){r=(r||"").toLowerCase();var u=i.getArray("css.unitlessProperties");return n.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(n,f,e){return!e&&(f=="0"||t.include(u,r))?f:e?f+nt(e):f.replace(/\.$/,"")+i.get(~f.indexOf(".")?"css.floatUnit":"css.intUnit")})},expand:function(u,e,o){var y,p,w,s,c,l,g,b,k,nt;if(o=o||"css",y=n("resources"),p=i.get("css.autoInsertVendorPrefixes"),(w=/^(.+)\!$/.test(u))&&(u=RegExp.$1),s=y.findSnippet(o,u),s&&!p)return f(s,w,o);var d=this.extractPrefixes(u),it=this.extractValues(d.property),h=t.extend(d,it);return(s?h.values=null:s=y.findSnippet(o,h.property),!s&&i.get("css.fuzzySearch")&&(s=y.fuzzyFindSnippet(o,h.property,parseFloat(i.get("css.fuzzySearchMinScore")))),s?t.isString(s)||(s=s.data):s=h.property+":"+a,!v(s))?s:(c=this.splitSnippet(s),l=[],!e&&h.values&&(e=t.map(h.values,function(n){return this.normalizeValue(n,c.name)},this).join(" ")+";"),c.value=e||c.value,g=h.prefixes=="all"||!h.prefixes&&p?tt(c.name,p&&h.prefixes!="all"):h.prefixes,b=[],t.each(g,function(n){n in r&&(k=r[n].transformName(c.name),b.push(k),l.push(f(k+":"+c.value,w,o)))}),l.push(f(c.name+":"+c.value,w,o)),b.push(c.name),i.get("css.alignVendor")&&(nt=n("utils").getStringsPads(b),l=t.map(l,function(n,t){return nt[t]+n})),l)},expandToSnippet:function(n,i){var r=this.expand(n,null,i);return t.isArray(r)?r.join("\n"):t.isString(r)?String(r):r.data},splitSnippet:function(t){var i=n("utils"),r;return(t=i.trim(t),t.indexOf(":")==-1)?{name:t,value:a}:(r=t.split(":"),{name:i.trim(r.shift()),value:i.trim(r.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")})},getSyntaxPreference:s,transformSnippet:f}}),emmet.define("cssGradient",function(n,t){function o(t){return n("utils").trim(t).replace(/\s+/g," ")}function v(i){for(var s=f[0],r=n("stringStream").create(n("utils").trim(i)),u=[],h;h=r.next();)r.peek()==","?(u.push(r.current()),r.next(),r.eatSpace(),r.start=r.pos):h=="("&&r.skipTo(")");return(u.push(r.current()),u=t.compact(t.map(u,o)),!u.length)?null:((e.test(u[0])||a.test(u[0]))&&(s=u.shift()),{type:"linear",direction:s,colorStops:t.map(u,y)})}function y(n){var t,r,i;return n=o(n),t=null,n=n.replace(/^(\w+\(.+?\))\s*/,function(n,i){return t=i,""}),t||(r=n.split(" "),t=r[0],n=r[1]||""),i={color:t},n&&n.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(n,t,r){i.position=t,~t.indexOf(".")?r="":r||(r="%"),r&&(i.unit=r)}),i}function p(i,r){var f=n("resources"),e=n("preferences"),u=f.findSnippet(r,i);return!u&&e.get("css.fuzzySearch")&&(u=f.fuzzyFindSnippet(r,i,parseFloat(e.get("css.fuzzySearchMinScore")))),u?(t.isString(u)||(u=u.data),n("cssResolver").splitSnippet(u).name):void 0}function w(n){var i=0;t.each(n,function(r,u){if(!u)return r.position=r.position||0;if(u!=n.length-1||"position"in r||(r.position=1),"position"in r){var f=n[i].position||0,e=(r.position-f)/(u-i);t.each(n.slice(i,u),function(n,t){n.position=f+e*t}),i=u}})}function b(n){var i=parseFloat(n);if(!t.isNaN(i))switch(i%360){case 0:return"left";case 90:return"bottom";case 180:return"right";case 240:return"top"}return n}function k(n){if(n=b(n),e.test(n))throw"The direction is an angle that can’t be converted.";var t=function(t){return~n.indexOf(t)?"100%":"0"};return t("right")+" "+t("bottom")+", "+t("left")+" "+t("top")}function s(n){var r=i.getArray("css.gradient.prefixes"),u=r?t.map(r,function(t){return"-"+t+"-"+n}):[];return u.push(n),u}function h(u,f){var e=[],o=n("cssResolver");return i.get("css.gradient.fallback")&&~f.toLowerCase().indexOf("background")&&e.push({name:"background-color",value:"${1:"+u.colorStops[0].color+"}"}),t.each(i.getArray("css.gradient.prefixes"),function(n){var t=o.prefixed(f,n);if(n=="webkit"&&i.get("css.gradient.oldWebkit"))try{e.push({name:t,value:r.oldWebkitLinearGradient(u)})}catch(s){}e.push({name:t,value:r.toString(u,n)})}),e.sort(function(n,t){return t.name.length-n.name.length})}function d(i,u,f){var e=i.parent,a=n("utils"),k=n("preferences").get("css.alignVendor"),o=i.styleSeparator,c=i.styleBefore,v,d,g,l,y,p,w,b;t.each(e.getAll(s(i.name())),function(n){n!=i&&/gradient/i.test(n.value())&&(n.styleSeparator.length<o.length&&(o=n.styleSeparator),n.styleBefore.length<c.length&&(c=n.styleBefore),e.remove(n))}),k&&(c!=i.styleBefore&&(v=i.fullRange(),e._updateSource(c,v.start,v.start+i.styleBefore.length),i.styleBefore=c),o!=i.styleSeparator&&(e._updateSource(o,i.nameRange().end,i.valueRange().start),i.styleSeparator=o)),d=i.value(),f||(f=n("range").create(0,i.value())),g=function(n){return a.replaceSubstring(d,n,f)},i.value(g(r.toString(u))+"${2}"),l=h(u,i.name()),k&&(y=t.pluck(l,"value"),p=t.pluck(l,"name"),y.push(i.value()),p.push(i.name()),w=a.getStringsPads(t.map(y,function(n){return n.substring(0,n.indexOf("("))})),b=a.getStringsPads(p),i.name(t.last(b)+i.name()),t.each(l,function(n,t){n.name=b[t]+n.name,n.value=w[t]+n.value}),i.value(t.last(w)+i.value())),t.each(l,function(n){e.add(n.name,n.value,e.indexOf(i))})}function u(n){var f=n.value(),i=null,u=t.find(n.valueParts(),function(n){return i=r.parse(n.substring(f))});return u&&i?{gradient:i,valueRange:u}:null}function g(u,f){var s=i.get("css.gradient.defaultProperty"),e,a,v,y;if(!s)return!1;var p=String(u.getContent()),o=n("range").create(u.getCurrentLineRange()),w=o.substring(p).replace(/^\s+/,function(n){return o.start+=n.length,""}).replace(/\s+$/,function(n){return o.end-=n.length,""}),l=n("cssResolver"),c=r.parse(w);return c?(e=h(c,s),e.push({name:s,value:r.toString(c)+"${2}"}),a=l.getSyntaxPreference("valueSeparator",f),v=l.getSyntaxPreference("propertyEnd",f),n("preferences").get("css.alignVendor")&&(y=n("utils").getStringsPads(t.map(e,function(n){return n.value.substring(0,n.value.indexOf("("))})),t.each(e,function(n,t){n.value=y[t]+n.value})),e=t.map(e,function(n){return n.name+a+n.value+v}),u.replaceContent(e.join("\n"),o.start,o.end),!0):!1}function c(i,r){var u=null,f=n("cssEditTree").parseFromPosition(i,r,!0);return f&&(u=f.itemFromPosition(r,!0),u||(u=t.find(f.list(),function(n){return n.range(!0).end==r}))),{rule:f,property:u}}var f=["top","to bottom","0deg"],r=null,l=["css","less","sass","scss","stylus","styl"],e=/\d+deg/i,a=/top|bottom|left|right/i,i=n("preferences");return i.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),i.define("css.gradient.oldWebkit",!0,"Generate gradient definition for old Webkit implementations"),i.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),i.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),i.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color<\/code> property with gradient first color as fallback for old browsers."),n("expandAbbreviation").addHandler(function(i,r,f){var y=n("editorUtils").outputInfo(i,r,f),o,a,b,k,h,v;if(!t.include(l,y.syntax))return!1;var w=i.getCaretPos(),s=y.content,e=c(s,w);return e.property&&(o=u(e.property),o)?(a=e.rule.options.offset||0,b=a+e.rule.toString().length,/[\n\r]/.test(e.property.value())&&(k=e.property.valueRange(!0).start+o.valueRange.end,s=n("utils").replaceSubstring(s,";",k),h=c(s,w),h.property&&(o=u(h.property),e=h)),e.property.end(";"),v=p(e.property.name(),r),v&&e.property.name(v),d(e.property,o.gradient,o.valueRange),i.replaceContent(e.rule.toString(),a,b,!0),!0):g(i,r)}),n("reflectCSSValue").addHandler(function(i){var h=n("utils"),f=u(i),o,e;return f?(o=i.value(),e=function(n){return h.replaceSubstring(o,n,f.valueRange)},t.each(i.parent.getAll(s(i.name())),function(n){if(n!==i){var t=n.value().match(/^\s*(\-([a-z]+)\-)?linear\-gradient/);t?n.value(e(r.toString(f.gradient,t[2]||""))):(t=n.value().match(/\s*\-webkit\-gradient/))&&n.value(e(r.oldWebkitLinearGradient(f.gradient)))}}),!0):!1}),r={parse:function(t){var i=null;return n("utils").trim(t).replace(/^([\w\-]+)\((.+?)\)$/,function(n,t,r){return(t=t.toLowerCase().replace(/^\-[a-z]+\-/,""),t=="linear-gradient"||t=="lg")?(i=v(r),""):n}),i},oldWebkitLinearGradient:function(n){if(t.isString(n)&&(n=this.parse(n)),!n)return null;var i=t.map(n.colorStops,t.clone);return t.each(i,function(n){if("position"in n)if(~n.position.indexOf(".")||n.unit=="%")n.position=parseFloat(n.position)/(n.unit=="%"?100:1);else throw"Can't convert color stop '"+(n.position+(n.unit||""))+"'";}),w(i),i=t.map(i,function(n,t){return!n.position&&!t?"from("+n.color+")":n.position==1&&t==i.length-1?"to("+n.color+")":"color-stop("+n.position.toFixed(2).replace(/\.?0+$/,"")+", "+n.color+")"}),"-webkit-gradient(linear, "+k(n.direction)+", "+i.join(", ")+")"},toString:function(n,r){if(n.type=="linear"){var e=(r?"-"+r+"-":"")+"linear-gradient",u=t.map(n.colorStops,function(n){return n.color+("position"in n?" "+n.position+(n.unit||""):"")});return!n.direction||i.get("css.gradient.omitDefaultDirection")&&t.include(f,n.direction)||u.unshift(n.direction),e+"("+u.join(", ")+")"}}}}),emmet.exec(function(n,t){var i=n("handlerList").create(),r=n("resources");t.extend(r,{addGenerator:function(n,r,u){t.isString(n)&&(n=new RegExp(n)),i.add(function(t,i){var u;return(u=n.exec(t.name()))?r(u,t,i):null},u)}}),r.addResolver(function(){return i.exec(null,t.toArray(arguments))})}),emmet.define("tagName",function(n,t){var i={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},r={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(n){return(n=(n||"").toLowerCase(),n in r)?this.getMapping(n):this.isInlineLevel(n)?"span":"div"},getMapping:function(n){return r[n.toLowerCase()]},isInlineLevel:function(n){return this.isTypeOf(n,"inlineLevel")},isBlockLevel:function(n){return this.isTypeOf(n,"blockLevel")},isEmptyElement:function(n){return this.isTypeOf(n,"empty")},isTypeOf:function(n,r){return t.include(i[r],n)},addMapping:function(n,t){r[n]=t},removeMapping:function(n){n in r&&delete r[n]},addElementToCollection:function(n,r){i[r]||(i[r]=[]);var u=this.getCollection(r);t.include(u,n)||u.push(n)},removeElementFromCollection:function(n,r){r in i&&(i[r]=t.without(this.getCollection(r),n))},getCollection:function(n){return i[n]}}}),emmet.exec(function(n,t){function u(){return{element:i.get("bem.elementSeparator"),modifier:i.get("bem.modifierSeparator")}}function o(i){if(n("abbreviationUtils").isSnippet(i))return i;i.__bem={block:"",element:"",modifier:""};var r=s(i.attribute("class")).split(" "),u=/^[a-z]\-/i;return i.__bem.block=t.find(r,function(n){return u.test(n)}),i.__bem.block||(u=/^[a-z]/i,i.__bem.block=t.find(r,function(n){return u.test(n)})||""),r=t.chain(r).map(function(n){return h(n,i)}).flatten().uniq().value().join(" "),r&&i.attribute("class",r),i}function s(t){var r=n("utils"),f,e;return t=(" "+(t||"")+" ").replace(/\s+/g," "),f=i.get("bem.shortElementPrefix"),f&&(e=new RegExp("\\s("+r.escapeForRegexp(f)+"+)","g"),t=t.replace(e,function(n,t){return" "+r.repeatString(u().element,t.length)})),r.trim(t)}function h(n,t){var c,l,a,s,h;n=f(n,t,"element"),n=f(n,t,"modifier");var r="",o="",e="",i=u();return(~n.indexOf(i.element)?(c=n.split(i.element),l=c[1].split(i.modifier),r=c[0],o=l.shift(),e=l.join(i.modifier)):~n.indexOf(i.modifier)&&(a=n.split(i.modifier),r=a.shift(),e=a.join(i.modifier)),r||o||e)?(r||(r=t.__bem.block),s=r,h=[],o?(s+=i.element+o,h.push(s)):h.push(s),e&&h.push(s+i.modifier+e),t.__bem.block=r,t.__bem.element=o,t.__bem.modifier=e,h):n}function f(n,t,i){var f=u(),o=new RegExp("^("+f[i]+")+","g"),e;if(o.test(n)){for(var s=0,h=n.replace(o,function(n){return s=n.length/f[i].length,""}),r=t;r.parent&&s--;)r=r.parent;if(r&&r.__bem||(r=t),r&&r.__bem)return e=r.__bem.block,i=="modifier"&&r.__bem.element&&(e+=f.element+r.__bem.element),e+f[i]+h}return n}function e(i,u){i.name&&o(i,u);var f=n("abbreviationUtils");return t.each(i.children,function(n){e(n,u),!f.isSnippet(n)&&n.start&&(r=!0)}),i}var i=n("preferences"),r;i.define("bem.elementSeparator","__","Class name’s element separator."),i.define("bem.modifierSeparator","_","Class name’s modifier separator."),i.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation."),r=!1,n("filters").add("bem",function(t,i){return r=!1,t=e(t,i),r&&(t=n("filters").apply(t,"html",i)),t})}),emmet.exec(function(n,t){function u(r,u,f){var e=n("utils"),o=i.get("filter.commentTrigger"),s;if(o=="*"||(s=t.find(o.split(","),function(n){return!!r.attribute(e.trim(n))}),s)){var h={node:r,name:r.name(),padding:r.parent?r.parent.padding:"",attr:function(n,t,i){var u=r.attribute(n);return u?(t||"")+u+(i||""):""}},c=e.normalizeNewline(u?u(h):""),l=e.normalizeNewline(f?f(h):"");r.start=r.start.replace(/</,c+"<"),r.end=r.end.replace(/>/,">"+l)}}function r(i,f,e){var o=n("abbreviationUtils");return t.each(i.children,function(n){o.isBlock(n)&&u(n,f,e),r(n,f,e)}),i}var i=n("preferences");i.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after<\/i> matched element when <code>comment<\/code> filter is applied. This definition is an ERB-style template passed to <code>_.template()<\/code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)<\/code> – a function that outputsspecified attribute value concatenated with <code>before<\/code> and <code>after<\/code> strings. If attribute doesn't exists, the empty string will be returned.<\/li><li><code>node<\/code> – current node (instance of <code>AbbreviationNode<\/code>)<\/li><li><code>name<\/code> – name of current tag<\/li><li><code>padding<\/code> – current string padding, can be used for formatting<\/li><\/ul>"),i.define("filter.commentBefore","","A definition of comment that should be placed <i>before<\/i> matched element when <code>comment<\/code> filter is applied. For more info, read description of <code>filter.commentAfter<\/code> property"),i.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*<\/code>"),n("filters").add("c",function(n){var u=t.template(i.get("filter.commentBefore")),f=t.template(i.get("filter.commentAfter"));return r(n,u,f)})}),emmet.exec(function(n,t){function i(n){return n.replace(/([<>&])/g,function(n,t){return r[t]})}var r={"<":"&lt;",">":"&gt;","&":"&amp;"};n("filters").add("e",function u(n){return t.each(n.children,function(n){n.start=i(n.start),n.end=i(n.end),n.content=i(n.content),u(n)}),n})}),emmet.exec(function(n,t){function o(r){return t.include(i.getArray("format.noIndentTags")||[],r.name())?"":n("resources").getVariable("indentation")}function s(t){return t.parent&&n("abbreviationUtils").hasBlockChildren(t.parent)}function r(n){return n.parent&&!n.parent.parent&&!n.index()}function u(t,i){var r=n("abbreviationUtils");return i.tag_nl===!0||r.isBlock(t)?!0:!t.parent||!i.inline_break?!1:f(t.parent,i)}function h(n,t){return n.children.length&&u(n.children[0],t)}function f(i,r){var u=0,f=n("abbreviationUtils");return!!t.find(i.children,function(n){return n.isTextNode()||!f.isInline(n)?u=0:f.isInline(n)&&u++,u>=r.inline_break?!0:void 0})}function c(n){return!n.parent}function l(t,i){return t.start=t.end="",!r(t)&&i.tag_nl!==!1&&u(t,i)&&(c(t.parent)||!n("abbreviationUtils").isInline(t.parent))&&(t.start=n("utils").getNewline()+t.start),t}function a(i,r){var u=n("abbreviationUtils"),e=t.any(i.children,function(n){return u.isSnippet(n)?!1:!u.isInline(n)});return e?!0:f(i,r)}function v(f,c){var y;f.start=f.end=e;var b=n("utils"),l=n("abbreviationUtils"),p=l.isUnary(f),v=b.getNewline(),w=o(f);return c.tag_nl!==!1&&(y=c.tag_nl===!0&&(c.tag_nl_leaf||f.children.length),y||(y=t.include(i.getArray("format.forceIndentationForTags")||[],f.name())),f.isTextNode()||(u(f,c)?(r(f)||l.isSnippet(f.parent)&&!f.index()||(f.start=v+f.start),(l.hasBlockChildren(f)||h(f,c)||y&&!p)&&(f.end=v+f.end),(l.hasTagsInContent(f)||y&&!f.children.length&&!p)&&(f.start+=v+w)):l.isInline(f)&&s(f)&&!r(f)?f.start=v+f.start:l.isInline(f)&&a(f,c)&&(f.end=v+f.end),f.padding=w)),f}var e="%s",i=n("preferences");i.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),i.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always<\/em> get inner indentation."),n("filters").add("_format",function y(i,r,u){u=u||0;var f=n("abbreviationUtils");return t.each(i.children,function(n){f.isSnippet(n)?l(n,r,u):v(n,r,u),y(n,r,u+1)}),i})}),emmet.exec(function(n,t){function i(t){return n("utils").trim(t).replace(/\s+/g,".")}function r(n,r){var u="",f=[],o=r.attributeQuote(),e=r.cursor();return t.each(n.attributeList(),function(n){var t=r.attributeName(n.name);switch(t.toLowerCase()){case"id":u+="#"+(n.value||e);break;case"class":u+="."+i(n.value||e);break;default:f.push(":"+t+" => "+o+(n.value||e)+o)}}),f.length&&(u+="{"+f.join(", ")+"}"),u}function u(t,i){var e;if(!t.parent)return t;var h=n("abbreviationUtils"),c=n("utils"),u=r(t,i),l=i.cursor(),o=h.isUnary(t),a=i.self_closing_tag&&o?"/":"",s="",f="%"+i.tagName(t.name());return f.toLowerCase()=="%div"&&u&&u.indexOf("{")==-1&&(f=""),t.end="",s=f+u+a+" ",e="%s",t.start=c.replaceSubstring(t.start,s,t.start.indexOf(e),e),t.children.length||o||(t.start+=l),t}n("filters").add("haml",function f(i,r,e){e=e||0;var o=n("abbreviationUtils");return e||(i=n("filters").apply(i,"_format",r)),t.each(i.children,function(n){o.isSnippet(n)||u(n,r,e),f(n,r,e+1)}),i})}),emmet.exec(function(n,t){function i(n,i){var r=i.attributeQuote(),u=i.cursor();return t.map(n.attributeList(),function(n){var t=i.attributeName(n.name);return" "+t+"="+r+(n.value||u)+r}).join("")}function r(t,r){var f,u;if(!t.parent)return t;var a=n("abbreviationUtils"),o=n("utils"),s=i(t,r),h=r.cursor(),c=a.isUnary(t),e="",l="";return t.isTextNode()||(f=r.tagName(t.name()),c?(e="<"+f+s+r.selfClosing()+">",t.end=""):(e="<"+f+s+">",l="<\/"+f+">")),u="%s",t.start=o.replaceSubstring(t.start,e,t.start.indexOf(u),u),t.end=o.replaceSubstring(t.end,l,t.end.indexOf(u),u),t.children.length||c||~t.content.indexOf(h)||n("tabStops").extract(t.content).tabstops.length||(t.start+=h),t}n("filters").add("html",function u(i,f,e){e=e||0;var o=n("abbreviationUtils");return e||(i=n("filters").apply(i,"_format",f)),t.each(i.children,function(n){o.isSnippet(n)||r(n,f,e),u(n,f,e+1)}),i})}),emmet.exec(function(n,t){var r=/^\s+/,i=/[\n\r]/g;n("filters").add("s",function u(f){var e=n("abbreviationUtils");return t.each(f.children,function(n){e.isSnippet(n)||(n.start=n.start.replace(r,""),n.end=n.end.replace(r,"")),n.start=n.start.replace(i,""),n.end=n.end.replace(i,""),n.content=n.content.replace(i,""),u(n)}),f})}),emmet.exec(function(n,t){function i(n,r){return t.each(n.children,function(n){n.content&&(n.content=n.content.replace(r,"")),i(n,r)}),n}n("preferences").define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t<\/code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),n("filters").add("t",function(t){var r=new RegExp(n("preferences").get("filter.trimRegexp"));return i(t,r)})}),emmet.exec(function(n,t){function r(n){n.start=n.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")}var i={"xsl:variable":1,"xsl:with-param":1};n("filters").add("xsl",function u(f){var e=n("abbreviationUtils");return t.each(f.children,function(n){!e.isSnippet(n)&&(n.name()||"").toLowerCase()in i&&n.children.length&&r(n),u(n)}),f})}),emmet.define("lorem",function(n,t){function i(n,t){return Math.round(Math.random()*(t-n)+n)}function e(n,r){for(var e=n.length,o=Math.min(e,r),u=[],f;u.length<o;)f=i(0,e-1),t.include(u,f)||u.push(f);return t.map(u,function(t){return n[t]})}function o(n){return t.isString(n)?n.charAt(i(0,n.length-1)):n[i(0,n.length-1)]}function f(n,t){return n.length&&(n[0]=n[0].charAt(0).toUpperCase()+n[0].substring(1)),n.join(" ")+(t||o("?!..."))}function s(n){var r=n.length,u=0;u=r>3&&r<=6?i(0,1):r>6&&r<=12?i(0,2):i(1,4),t.each(t.range(u),function(t){t<n.length-1&&(n[t]+=",")})}function h(n,t,u){var c=r[n],l,h,o;if(!c)return"";for(l=[],h=0,t=parseInt(t,10),u&&c.common&&(o=c.common.slice(0,t),o.length>5&&(o[4]+=","),h+=o.length,l.push(f(o,".")));h<t;)o=e(c.words,Math.min(i(3,12)*i(1,5),t-h)),h+=o.length,s(o),l.push(f(o));return l.join(" ")}var r={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}},u=n("preferences");return u.define("lorem.defaultLang","en"),n("abbreviationParser").addPreprocessor(function(n){var i=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,t;n.findAll(function(n){if(n._name&&(t=n._name.match(i))){var r=t[2]||30,f=t[1]||u.get("lorem.defaultLang")||"en";n._name="",n.data("forceNameResolving",n.isRepeating()||n.attributeList().length),n.data("pasteOverwrites",!0),n.data("paste",function(n){return h(f,r,!n)})}})}),{addLang:function(n,i){t.isString(i)?i={words:t.compact(i.split(" "))}:t.isArray(i)&&(i={words:i}),r[n]=i}}}),emmet.exec(function(n){n("actions").add("select_line",function(n){var t=n.getCurrentLineRange();return n.createSelection(t.start,t.end),!0})}),emmet.exec(function(n){n("resources").setVocabulary({variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n"},css:{filters:"html",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n\t|\n}","@media":"@media ${1:screen} {\n\t|\n}","@f":"@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}","@f+":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:i":"display:inline;","d:ib":"display:inline-block;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;",ols:"outline-style:|;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:|;","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:r":"transform: rotate(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",lts:"letter-spacing:|;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!doctype html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n\t${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n\t${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n\t${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',acronym:'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:"<script>","script:src":'<script src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:hidden":"input[type=hidden name]","input:h":"input:hidden","input:text":"inp","input:t":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:password":"inp[type=password]","input:p":"input:password","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:checkbox":"inp[type=checkbox]","input:c":"input:checkbox","input:radio":"inp[type=radio]","input:r":"input:radio","input:range":"inp[type=range]","input:file":"inp[type=file]","input:f":"input:file","input:submit":'<input type="submit" value="" />',"input:s":"input:submit","input:image":'<input type="image" src="" alt="" />',"input:i":"input:image","input:button":'<input type="button" value="" />',"input:b":"input:button",isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',option:'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',"menu:context":"menu[type=context]>","menu:c":"menu:context","menu:toolbar":"menu[type=toolbar]>","menu:t":"menu:toolbar",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>",bq:"blockquote",acr:"acronym",fig:"figure",figc:"figcaption",ifr:"iframe",emb:"embed",obj:"object",src:"source",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button","btn:b":"button[type=button]","btn:r":"button[type=reset]","btn:s":"button[type=submit]",optg:"optgroup",opt:"option",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=UTF-8]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{tm:'<xsl:template match="" mode="">',tmatch:"tm",tn:'<xsl:template name="">',tname:"tn",call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","xsl:when":'<xsl:when test="">',wh:"xsl:when",ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',each:'<xsl:for-each select="">',"for":"each",tex:"<xsl:text><\/xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"}},"system")}),emmet.define("shortcut",function(){function n(n){return n.charAt().toUpperCase()+n.substring(1)}return{compile:function(n){var i,u,f,t,r,e;if(typeof n!="string")return n;for(i=0,u=n.toLowerCase().split("+"),r=0,e=u.length;r<e;r++)t=u[r],is_mac||t!="meta"||(t="ctrl"),Modifiers,t=="ctrl"||t=="control"?i|=MODIFIERS.CTRL:t=="shift"?i|=MODIFIERS.SHIFT:t=="alt"?i|=MODIFIERS.ALT:t=="meta"?i|=MODIFIERS.META:f=t;return{mask:i,key:f}},test:function(n,t){var u=0,f=this.compile(n),r,i;return(t.ctrlKey&&(u|=MODIFIERS.CTRL),t.shiftKey&&(u|=MODIFIERS.SHIFT),t.altKey&&(u|=MODIFIERS.ALT),t.metaKey&&(u|=MODIFIERS.META),r=t.keyCode?t.keyCode:t.which,i=String.fromCharCode(r).toLowerCase(),u!==f.mask)?!1:f.key.length>1?special_keys[f.key]==r:(r==188&&(i=","),r==190&&(i="."),r==191&&(i="/"),i==f.key)?!0:t.shiftKey&&shift_nums[i]?shift_nums[i]==f.key:!1},format:function(t){for(var u=is_mac?mac_char_map:pc_char_map,o=is_mac?"":"+",f=t.toLowerCase().split("+"),e=[],i,r=0;r<f.length;r++)i=f[r],e.push(i in u?u[i]:n(i));return e.join(o)}}}),emmet.define("editor",function(n,t){var i=null,r=document.createElement("textarea");return r.value="\n",n("utils").setNewline(r.value),r=null,{setContext:function(n){i=n},getContext:function(){return i},getSelectionRange:function(){var n,t,r;return"selectionStart"in i?{start:i.selectionStart,end:i.selectionEnd}:document.selection?(i.focus(),n=document.selection.createRange(),n===null)?{start:0,end:this.getContent().length}:(t=i.createTextRange(),r=t.duplicate(),t.moveToBookmark(n.getBookmark()),r.setEndPoint("EndToStart",t),{start:r.text.length,end:r.text.length+n.text.length}):null},createSelection:function(t,r){var u,f,e;typeof r=="undefined"&&(r=t),"setSelectionRange"in i?i.setSelectionRange(t,r):"createTextRange"in i&&(u=i.createTextRange(),u.collapse(!0),f=n("utils"),e=f.splitByLines(this.getContent().substring(0,t)).length-1,r-=e+f.splitByLines(this.getContent().substring(t,r)).length-1,t-=e,u.moveStart("character",t),u.moveEnd("character",r-t),u.select())},getCurrentLineRange:function(){var t=this.getCaretPos();return t===null?null:n("utils").findNewlineBounds(this.getContent(),t)},getCaretPos:function(){var n=this.getSelectionRange();return n?n.start:null},setCaretPos:function(n){this.createSelection(n)},getCurrentLine:function(){var n=this.getCurrentLineRange();return n.start<n.end?this.getContent().substring(n.start,n.end):""},replaceContent:function(r,u,f,e){var s=this.getContent(),h=n("utils"),c,o;t.isUndefined(f)&&(f=t.isUndefined(u)?s.length:u),t.isUndefined(u)&&(u=0),e||(r=h.padString(r,h.getLinePaddingFromPosition(s,u))),c=emmet.require("tabStops").extract(r,{escape:function(n){return n}}),r=c.text,o=c.tabstops[0],o?(o.start+=u,o.end+=u):o={start:r.length+u,end:r.length+u};try{i.value=h.replaceSubstring(s,r,u,f),this.createSelection(o.start,o.end)}catch(l){}},getContent:function(){return i.value||""},getSyntax:function(){return n("actionUtils").detectSyntax(this,n("textarea").getOption("syntax"))},getProfileName:function(){var t=n("textarea").getOption("profile");return this.getSyntax()=="html"&&t?t:n("actionUtils").detectProfile(this)},prompt:function(n){return prompt(n)},getSelection:function(){var n=this.getSelectionRange();if(n)try{return this.getContent().substring(n.start,n.end)}catch(t){}return""},getFilePath:function(){return location.href}}}),emmet.define("textarea",function(n){var t={}});
//@ sourceMappingURL=emmet.min.js.map