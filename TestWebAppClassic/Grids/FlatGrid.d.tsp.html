<html>
<head>
    <title>Flat Grid Test</title>


    <script src="../Scripts/typings/underscore/underscore.d.js" data-genid="lib"></script><script src="../Scripts/jquery-2.0.3.js" data-genid="lib"></script><script src="../tsp_script/DBS.js" data-genid="lib"></script><script src="../Scripts/emmet.js" data-genid="lib"></script><script src="../tsp_script/DBS_b.js" data-genid="lib"></script><script src="../tsp_script/tsp_b.js" data-genid="lib"></script><script src="../tsp_script/DBS_cs.js" data-genid="lib"></script><script src="../tsp_script/tsp_cs.js" data-genid="lib"></script><link href="../Content/font-awesome-4.0.3/css/font-awesome.min.css" data-genid="lib" rel="stylesheet"><link href="../tsp_script/tsp.css" data-genid="lib" rel="stylesheet">
    
    
    <script> var x;</script>
</head>
<body>
<script data-mode="both" data-model="[TestWebAppClassic.DataTableTestModel, TestWebAppClassic].GetTbl" id="dataTable" src="dataTable.js">

</script>

<!--<script>-->
    <!--DBS.b.attachNotifyListeners(model.dataTable);-->
<!--</script>-->

<script class="VScrollBar" data-attribute-link="scrollOptions">
    x = {
        direction: tsp.b.DirectionOptions.Vertical,
        maxValue: model.dataTable.data.length,
        maxElementSize: 20,
        formTargets: $('#gridState')
    };
</script>

<script class="HScrollBar" data-attribute-link="scrollOptions">
    x = {
        direction: tsp.b.DirectionOptions.Horizontal,
        //maxValue: model.dataTable.fields.length,
        maxValueFn: function(){
            //debugger;
            return model.dataTable.colView ? model.dataTable.colView.length : model.dataTable.fields.length;
        },
        maxElementSize: 100,
        formTargets: $('#gridState'),
        maxValueChangeNotifier: model.dataTable.changeNotifier
    };
</script>


<script class="VScrollBar HScrollBar" data-attribute-link="">
    x = tsp.cs.addScroll;
</script>



<script class="RC" data-attribute-link="">
    x = DBS.b.MakeRCsUnique;
</script>
<script class="RC" data-attribute-link="fillGridOptions">
    x = {
        dataTableFn: function(){return model.dataTable;},
        verticalOffsetFld: document.getElementById('vs_ScrollVal'),
        horizontalOffsetFld: document.getElementById('hs_ScrollVal'),
        columnRemove: {
            selector: 'th>span.fa-minus-square-o',
            removeHandler : tsp.cs.handleHideColumn,
            formTargets :  document.getElementById('gridState')
        }
    };
</script>
<script class="RC" data-attribute-link="">
    x = tsp.cs.fillGrid;
</script>


<script class="ac" data-attribute-link="displayOnHoverOptions">
    x = {
        hotspotSelector:'.hRow'
    };
</script>
<script class="ac" data-attribute-link="">
    x = tsp.cs.addDisplayOnHover;
</script>
<script class="gridState">
    x = function(el){
        el.addEventListener('change', function(evt){
            alert('iah');
        })
    }
</script>
<script type="text/emmet" data-mode="client-side-only">
        (table>
            (tr>
                (td>
                    table.RC>(
                        (thead>
                            (tr.ac[style=display:none]>(th[data-ac=1,$]>
                                    (span[title='Hide'].fa.fa-minus-square-o{&nbsp;})
                                    + (span[title='Freeze'].fa.fa-anchor{&nbsp;})
                                    + (span[title='Move Left'].fa.fa-arrow-circle-left{&nbsp;})
                                    + (span[title='Move Right'].fa.fa-arrow-circle-right{&nbsp;})
                                 )*3)
                            + (tr>th.hRow[data-hc=1,$]*3)
                         )
                      + (tbody>
                            (tr>
                                (td[data-rc=r,$]*3)
                            )*6
                        )
                    )
                )
                + (td>
                  div#vs.VScrollBar[style=height:200px]
                )
            )
            + tr>td>div#hs.HScrollBar[style=width:200px]
        )

</script>
<form id="gridState" class="gridState">
    <input id="vs_ScrollVal" name="vs_ScrollVal" type="hidden">
    <input id="hs_ScrollVal" name="hs_ScrollVal" type="hidden">
</form>


</body>
</html>