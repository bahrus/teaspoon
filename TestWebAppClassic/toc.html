<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Overview of tsp</title>
</head>
<body id="body">
    <h1>Overview of tsp</h1>
    <div id="overview">
    <ul>
    
    <li>Maximize use of universally supported standards - Html, Ecmascript, CSS
        <ul>
            <li class="selected">Prototyping can be done with any web server (Apache, File server etc.)</li>
            <li class="selected">Maximize utility of HTML / css editors - markup directives must not hamper visual designer</li>
            <li class="selected">Build on the good parts of html / css</li>
            <li class="selected">As much as possible rely on directives rather than code.</li>
            <li>"Declarative" getting blurry</li>
            <li>Code is Directive based if:
                <ul>
                    <li>It is declarative</li>
                    <li>Directiveness of code: (1 -  # of parenthesis / lines of text) > 0.95 </li>
                </ul>
            </li>
            <li>Code is Redundant if it can be greatly reduced in size by zipping</li>
            <li>List of JS Directives modeled after css
                <ul>
                    <li class="selected">Rules applied based on css selector (like JQuery), but...</li>
                    <li>Rules adhere to same inheritance rules as css (and more)</li>
                    <li>Apply rules according to css specificity</li>
                    <li>Every rule will allow for a flat list of properties (with namespaced prefix)</li>
                    <li class="selected">Rule properties can be primitive (number, string, date, arrays of said) - they get overridden by higher specificity css with same property</li>
                    <li class="selected">Rule properties can be functions - they also get completely overridden</li>
                    <li class="selected">Rule properties can be ordinary objects - also get overridden</li>
                    <li>Rule properties can be special objects:
                        <ul>
                            <li>function composer object
                                <ul> 
                                    <li>objectType = 'tsp.functionComposer'</li>
                                    <li>points to funtion which describes type</li>
                                    <li>with optional properties:
                                        <ul>
                                            <li>
                                                postEval: function(el, inheritedVal);
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>object merger object
                                <ul>
                                    <li>objectType = 'tsp.objectMerger'</li>
                                    <li>with optional properties:
                                        <ul>
                                            <li>mergeProps</li>
                                        </ul>
                                    </li>
                                
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>Can add global events, e.g. click, which also filters for css like selectors</li>
                </ul>
            </li>
        </ul>
    </li>
    <li id="universalLanguage">Support same language / libraries / classes on both client and server as much as possible
        <ul>
        <li class="selected">Model can be generated in server based language, but automatically generate interface stubs for Typescript / Javascript</li>
        <li class="selected">Script tags can execute in client, in server, or both</li>
        <li id="iframes">
            "Embedded Iframes" is the route to reusable components (similar to "user controls" in asp.net).
            <ul>
                <li class="selected">If iframe tag has data-mode='server-side-only", then contents of referenced page will be embedded in page</li>
                <li class="selected">src must contain #{id} in query string - this will limit the contents to what is in the dom id with that id</li>
                <li class="selected">Refenced page will execute all server side script</li>
                <li class="selected">id's in iframe will be "namespaced" to start with id of iframe tag, using an underscore separator</li>
                <li>url in iframe reference will be "namespaced" to start with id of iframe tag, using an underscore separator</li>
                <li>Need to make sure rules support: http://stackoverflow.com/questions/5402312/same-style-for-ids-that-end-with-the-same-letters and pages that use iframes should use this</li>
                <li>public pages vs private pages -- private pages cannot be requested standalone</li>
                <li class="selected">Multiple server side iframes referencing same exact url will only be evaluated once.</li>
                <li>script refereces will be merged</li>
                <li>model will be added to parent model, with {id} to reference it</li>
                <li>code in iframe will see a server side global variable giving container dom id</li>
            </ul>
        </li>
    </ul>
    </li>
    <li>Keywords
        <ul>
            <li>Reserved keywords
                <ul>
                    <li>
                      mode
                    </li>
                    <li>
                        possible values are:
                        <ul>
                            <li data-detail="#server-side-only">server-side-only</li>
                            <li>client-side-only</li>
                            <li>both</li>
                            <li>either</li>
                        </ul>
                    </li>
                    <li>containerDOM_ID</li>
                </ul>
            </li>
        </ul>
    </li>
    </ul>
    </div>

    <div>Details</div>
    <div id="server-side-only">
        <h3>server-side-only</h3>
        <table>
            <thead>
                <tr>
                    <th>Context</th>
                </tr>
            </thead>
        </table>
    </div>
</body>
</html>
